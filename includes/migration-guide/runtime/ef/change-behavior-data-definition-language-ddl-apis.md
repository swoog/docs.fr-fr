### <a name="change-in-behavior-in-data-definition-language-ddl-apis"></a><span data-ttu-id="d9714-101">Changement de comportement des API DDL (Data Definition Language)</span><span class="sxs-lookup"><span data-stu-id="d9714-101">Change in behavior in Data Definition Language (DDL) APIs</span></span>

|   |   |
|---|---|
|<span data-ttu-id="d9714-102">Détails</span><span class="sxs-lookup"><span data-stu-id="d9714-102">Details</span></span>|<span data-ttu-id="d9714-103">Le comportement des API DDL lors de la spécification d’AttachDBFilename a été modifié de la manière suivante :</span><span class="sxs-lookup"><span data-stu-id="d9714-103">The behavior of DDL APIs when AttachDBFilename is specified has changed as follows:</span></span><ul><li><span data-ttu-id="d9714-104">Les chaînes de connexion n’ont pas besoin de spécifier de valeur Initial Catalog.</span><span class="sxs-lookup"><span data-stu-id="d9714-104">Connection strings need not specify an Initial Catalog value.</span></span> <span data-ttu-id="d9714-105">Avant, AttachDBFilename et Initial Catalog étaient obligatoires.</span><span class="sxs-lookup"><span data-stu-id="d9714-105">Previously, both AttachDBFilename and Initial Catalog were required.</span></span></li><li><span data-ttu-id="d9714-106">Si AttachDBFilename et Initial Catalog sont spécifiés et que le fichier MDF donné existe, la méthode ObjectContext.DatabaseExists retourne True.</span><span class="sxs-lookup"><span data-stu-id="d9714-106">If both AttachDBFilename and Initial Catalog are specified and the given MDF file exists, the ObjectContext.DatabaseExists method returns true.</span></span> <span data-ttu-id="d9714-107">Avant, elle retournait false.</span><span class="sxs-lookup"><span data-stu-id="d9714-107">Previously, it returned false.</span></span></li><li><span data-ttu-id="d9714-108">Si AttachDBFilename et Initial Catalog sont spécifiés et que le fichier MDF donné existe, l’appel de la méthode ObjectContext.DeleteDatabase a pour effet de supprimer les fichiers.</span><span class="sxs-lookup"><span data-stu-id="d9714-108">If both AttachDBFilename and Initial Catalog are specified and the given MDF file exists, calling the ObjectContext.DeleteDatabase method deletes the files.</span></span></li><li><span data-ttu-id="d9714-109">Si ObjectContext.DeleteDatabase est appelé lorsque la chaîne de connexion spécifie une valeur AttachDBFilename avec un fichier MDF qui n’existe pas et un Initial Catalog qui n’existe pas non plus, la méthode lève une exception InvalidOperationException.</span><span class="sxs-lookup"><span data-stu-id="d9714-109">If ObjectContext.DeleteDatabase is called when the connection string specifies an AttachDBFilename value with an MDF that doesn't exist and an Initial Catalog that doesn't exist, the method throws an InvalidOperationException exception.</span></span> <span data-ttu-id="d9714-110">Avant, elle levait une exception SqlException.</span><span class="sxs-lookup"><span data-stu-id="d9714-110">Previously, it threw a SqlException exception.</span></span></li></ul>|
|<span data-ttu-id="d9714-111">Suggestion</span><span class="sxs-lookup"><span data-stu-id="d9714-111">Suggestion</span></span>|<span data-ttu-id="d9714-112">Ces modifications facilitent la création d'outils et d'applications qui utilisent les API DDL.</span><span class="sxs-lookup"><span data-stu-id="d9714-112">These changes make it easier to build tools and applications that use the DDL APIs.</span></span> <span data-ttu-id="d9714-113">Elles peuvent avoir une incidence sur la compatibilité des applications dans les scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="d9714-113">These changes can affect application compatibility in the following scenarios:</span></span><ul><li><span data-ttu-id="d9714-114">L’utilisateur écrit du code qui exécute directement une commande DROP DATABASE au lieu d’appeler ObjectContext.DeleteDatabase si ObjectContext.DatabaseExists retourne la valeur true.</span><span class="sxs-lookup"><span data-stu-id="d9714-114">The user writes code that executes a DROP DATABASE command directly instead of calling ObjectContext.DeleteDatabase if ObjectContext.DatabaseExists returns true.</span></span> <span data-ttu-id="d9714-115">Ce comportement altère le code existant si la base de données n'est pas liée mais que le fichier MDF existe.</span><span class="sxs-lookup"><span data-stu-id="d9714-115">This breaks existing code If the database is not attached but the MDF file exists.</span></span></li><li><span data-ttu-id="d9714-116">L’utilisateur écrit du code qui s’attend à ce que la méthode ObjectContext.DeleteDatabase lève une exception SqlException plutôt qu’une exception InvalidOperationException lorsque l’Initial Catalog et le fichier MDF n’existent pas.</span><span class="sxs-lookup"><span data-stu-id="d9714-116">The user writes code that expects the ObjectContext.DeleteDatabase method to throw a SqlException exception rather than an InvalidOperationException exception when the Initial Catalog and MDF file don't exist.</span></span></li></ul>|
|<span data-ttu-id="d9714-117">Portée</span><span class="sxs-lookup"><span data-stu-id="d9714-117">Scope</span></span>|<span data-ttu-id="d9714-118">Mineur</span><span class="sxs-lookup"><span data-stu-id="d9714-118">Minor</span></span>|
|<span data-ttu-id="d9714-119">Version</span><span class="sxs-lookup"><span data-stu-id="d9714-119">Version</span></span>|<span data-ttu-id="d9714-120">4.5</span><span class="sxs-lookup"><span data-stu-id="d9714-120">4.5</span></span>|
|<span data-ttu-id="d9714-121">Type</span><span class="sxs-lookup"><span data-stu-id="d9714-121">Type</span></span>|<span data-ttu-id="d9714-122">Runtime</span><span class="sxs-lookup"><span data-stu-id="d9714-122">Runtime</span></span>|

