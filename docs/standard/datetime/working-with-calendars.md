---
title: Utilisation des calendriers
ms.date: 02/23/2019
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET Framework], calendars
- calendars, global applications
- global applications, calendars
- world-ready applications, calendars
- international applications [.NET Framework], calendars
- culture, calendars
ms.assetid: 0c1534e5-979b-4c8a-a588-1c24301aefb3
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 6bc41f6881c8a876e77ac385c715a5517b95842c
ms.sourcegitcommit: 69bf8b719d4c289eec7b45336d0b933dd7927841
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/14/2019
ms.locfileid: "57845984"
---
# <a name="working-with-calendars"></a><span data-ttu-id="ef10e-102">Utilisation des calendriers</span><span class="sxs-lookup"><span data-stu-id="ef10e-102">Working with calendars</span></span>

<span data-ttu-id="ef10e-103">Bien qu'une valeur de date et d'heure représente un moment donné, sa représentation sous forme de chaîne dépend de la culture, des conventions utilisées pour afficher des valeurs de date et d'heure par une culture spécifique et du calendrier utilisé par cette culture.</span><span class="sxs-lookup"><span data-stu-id="ef10e-103">Although a date and time value represents a moment in time, its string representation is culture-sensitive and depends both on the conventions used for displaying date and time values by a specific culture and on the calendar used by that culture.</span></span> <span data-ttu-id="ef10e-104">Cette rubrique explore la prise en charge des calendriers dans .NET et explique comment utiliser les classes de calendrier lorsque vous travaillez avec des valeurs de date.</span><span class="sxs-lookup"><span data-stu-id="ef10e-104">This topic explores the support for calendars in .NET and discusses the use of the calendar classes when working with date values.</span></span>

## <a name="calendars-in-net"></a><span data-ttu-id="ef10e-105">Calendriers dans .NET</span><span class="sxs-lookup"><span data-stu-id="ef10e-105">Calendars in .NET</span></span>

<span data-ttu-id="ef10e-106">Tous les calendriers dans .NET dérivent la <xref:System.Globalization.Calendar?displayProperty=nameWithType> classe, qui fournit l’implémentation de calendrier de base.</span><span class="sxs-lookup"><span data-stu-id="ef10e-106">All calendars in .NET derive from the <xref:System.Globalization.Calendar?displayProperty=nameWithType> class, which provides the base calendar implementation.</span></span> <span data-ttu-id="ef10e-107">Une des classes qui héritent de la classe <xref:System.Globalization.Calendar> est <xref:System.Globalization.EastAsianLunisolarCalendar>, qui constitue la base de tous les calendriers lunisolaires.</span><span class="sxs-lookup"><span data-stu-id="ef10e-107">One of the classes that inherits from the <xref:System.Globalization.Calendar> class is the <xref:System.Globalization.EastAsianLunisolarCalendar> class, which is the base class for all lunisolar calendars.</span></span> <span data-ttu-id="ef10e-108">.NET inclut les implémentations de calendrier suivantes :</span><span class="sxs-lookup"><span data-stu-id="ef10e-108">.NET includes the following calendar implementations:</span></span>

* <span data-ttu-id="ef10e-109"><xref:System.Globalization.ChineseLunisolarCalendar>, qui représente le calendrier lunisolaire chinois.</span><span class="sxs-lookup"><span data-stu-id="ef10e-109"><xref:System.Globalization.ChineseLunisolarCalendar>, which represents the Chinese lunisolar calendar.</span></span>

* <span data-ttu-id="ef10e-110"><xref:System.Globalization.GregorianCalendar>, qui représente le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-110"><xref:System.Globalization.GregorianCalendar>, which represents the Gregorian calendar.</span></span> <span data-ttu-id="ef10e-111">Ce calendrier est encore divisé en sous-types (tels que l'arabe et le français du Moyen-Orient) qui sont définis par l'énumération <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-111">This calendar is further divided into subtypes (such as Arabic and Middle East French) that are defined by the <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType> enumeration.</span></span> <span data-ttu-id="ef10e-112">La propriété <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> spécifie le sous-type du calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-112">The <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> property specifies the subtype of the Gregorian calendar.</span></span>

* <span data-ttu-id="ef10e-113"><xref:System.Globalization.HebrewCalendar>, qui représente le calendrier hébreu.</span><span class="sxs-lookup"><span data-stu-id="ef10e-113"><xref:System.Globalization.HebrewCalendar>, which represents the Hebrew calendar.</span></span>

* <span data-ttu-id="ef10e-114"><xref:System.Globalization.HijriCalendar>, qui représente le calendrier Hijri.</span><span class="sxs-lookup"><span data-stu-id="ef10e-114"><xref:System.Globalization.HijriCalendar>, which represents the Hijri calendar.</span></span>

* <span data-ttu-id="ef10e-115"><xref:System.Globalization.JapaneseCalendar>, qui représente le calendrier japonais.</span><span class="sxs-lookup"><span data-stu-id="ef10e-115"><xref:System.Globalization.JapaneseCalendar>, which represents the Japanese calendar.</span></span>

* <span data-ttu-id="ef10e-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, qui représente le calendrier lunisolaire japonais.</span><span class="sxs-lookup"><span data-stu-id="ef10e-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, which represents the Japanese lunisolar calendar.</span></span>

* <span data-ttu-id="ef10e-117"><xref:System.Globalization.JulianCalendar>, qui représente le calendrier julien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-117"><xref:System.Globalization.JulianCalendar>, which represents the Julian calendar.</span></span>

* <span data-ttu-id="ef10e-118"><xref:System.Globalization.KoreanCalendar>, qui représente le calendrier coréen.</span><span class="sxs-lookup"><span data-stu-id="ef10e-118"><xref:System.Globalization.KoreanCalendar>, which represents the Korean calendar.</span></span>

* <span data-ttu-id="ef10e-119"><xref:System.Globalization.KoreanLunisolarCalendar>, qui représente le calendrier lunisolaire coréen.</span><span class="sxs-lookup"><span data-stu-id="ef10e-119"><xref:System.Globalization.KoreanLunisolarCalendar>, which represents the Korean lunisolar calendar.</span></span>

* <span data-ttu-id="ef10e-120"><xref:System.Globalization.PersianCalendar>, qui représente le calendrier persan.</span><span class="sxs-lookup"><span data-stu-id="ef10e-120"><xref:System.Globalization.PersianCalendar>, which represents the Persian calendar.</span></span>

* <span data-ttu-id="ef10e-121"><xref:System.Globalization.TaiwanCalendar>, qui représente le calendrier taïwanais.</span><span class="sxs-lookup"><span data-stu-id="ef10e-121"><xref:System.Globalization.TaiwanCalendar>, which represents the Taiwan calendar.</span></span>

* <span data-ttu-id="ef10e-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, qui représente le calendrier lunisolaire taïwanais.</span><span class="sxs-lookup"><span data-stu-id="ef10e-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, which represents the Taiwan lunisolar calendar.</span></span>

* <span data-ttu-id="ef10e-123"><xref:System.Globalization.ThaiBuddhistCalendar>, qui représente le calendrier thaï bouddhiste.</span><span class="sxs-lookup"><span data-stu-id="ef10e-123"><xref:System.Globalization.ThaiBuddhistCalendar>, which represents the Thai Buddhist calendar.</span></span>

* <span data-ttu-id="ef10e-124"><xref:System.Globalization.UmAlQuraCalendar>, qui représente le calendrier Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="ef10e-124"><xref:System.Globalization.UmAlQuraCalendar>, which represents the Um Al Qura calendar.</span></span>

<span data-ttu-id="ef10e-125">Un calendrier peut être utilisé de deux manières différentes :</span><span class="sxs-lookup"><span data-stu-id="ef10e-125">A calendar can be used in one of two ways:</span></span>

* <span data-ttu-id="ef10e-126">En tant que calendrier utilisé par une culture spécifique.</span><span class="sxs-lookup"><span data-stu-id="ef10e-126">As the calendar used by a specific culture.</span></span> <span data-ttu-id="ef10e-127">Chaque objet <xref:System.Globalization.CultureInfo> possède un calendrier actuel, qui est celui que l'objet utilise actuellement.</span><span class="sxs-lookup"><span data-stu-id="ef10e-127">Each <xref:System.Globalization.CultureInfo> object has a current calendar, which is the calendar that the object is currently using.</span></span> <span data-ttu-id="ef10e-128">Les représentations sous forme de chaîne de toutes les valeurs de date et d'heure reflètent automatiquement la culture actuelle et le calendrier en cours.</span><span class="sxs-lookup"><span data-stu-id="ef10e-128">The string representations of all date and time values automatically reflect the current culture and its current calendar.</span></span> <span data-ttu-id="ef10e-129">En général, le calendrier actuel est le calendrier par défaut de la culture.</span><span class="sxs-lookup"><span data-stu-id="ef10e-129">Typically, the current calendar is the culture's default calendar.</span></span> <span data-ttu-id="ef10e-130"><xref:System.Globalization.CultureInfo> objets possèdent également des calendriers facultatifs, qui comprennent les calendriers supplémentaires utilisables par la culture.</span><span class="sxs-lookup"><span data-stu-id="ef10e-130"><xref:System.Globalization.CultureInfo> objects also have optional calendars, which include additional calendars that the culture can use.</span></span>

* <span data-ttu-id="ef10e-131">En tant que calendrier autonome, indépendant d'une culture spécifique.</span><span class="sxs-lookup"><span data-stu-id="ef10e-131">As a standalone calendar independent of a specific culture.</span></span> <span data-ttu-id="ef10e-132">Dans ce cas, les méthodes <xref:System.Globalization.Calendar> sont utilisées pour exprimer des dates sous forme de valeurs qui reflètent le calendrier.</span><span class="sxs-lookup"><span data-stu-id="ef10e-132">In this case, <xref:System.Globalization.Calendar> methods are used to express dates as values that reflect the calendar.</span></span>

<span data-ttu-id="ef10e-133">Notez que six classes de calendrier – <xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar> et <xref:System.Globalization.TaiwanLunisolarCalendar> - peuvent être utilisées uniquement en tant que calendriers autonomes.</span><span class="sxs-lookup"><span data-stu-id="ef10e-133">Note that six calendar classes – <xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar>, and <xref:System.Globalization.TaiwanLunisolarCalendar> – can be used only as standalone calendars.</span></span> <span data-ttu-id="ef10e-134">Elles ne sont utilisées par aucune culture comme le calendrier par défaut ou comme calendrier facultatif.</span><span class="sxs-lookup"><span data-stu-id="ef10e-134">They are not used by any culture as either the default calendar or as an optional calendar.</span></span>

## <a name="calendars-and-cultures"></a><span data-ttu-id="ef10e-135">Calendriers et cultures</span><span class="sxs-lookup"><span data-stu-id="ef10e-135">Calendars and cultures</span></span>

<span data-ttu-id="ef10e-136">Chaque culture a un calendrier par défaut, qui est défini par la propriété <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-136">Each culture has a default calendar, which is defined by the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ef10e-137">La propriété <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> retourne un tableau d'objets <xref:System.Globalization.Calendar> qui spécifie tous les calendriers pris en charge par une culture particulière, y compris le calendrier par défaut de cette culture.</span><span class="sxs-lookup"><span data-stu-id="ef10e-137">The <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property returns an array of <xref:System.Globalization.Calendar> objects that specifies all the calendars supported by a particular culture, including that culture's default calendar.</span></span>

<span data-ttu-id="ef10e-138">L'exemple suivant illustre les propriétés <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> et <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-138">The following example illustrates the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> properties.</span></span> <span data-ttu-id="ef10e-139">Il crée des objets `CultureInfo` pour les cultures thaï (Thaïlande) et japonaise (Japon) et affiche leurs calendriers par défaut et facultatifs.</span><span class="sxs-lookup"><span data-stu-id="ef10e-139">It creates `CultureInfo` objects for the Thai (Thailand) and Japanese (Japan) cultures and displays their default and optional calendars.</span></span> <span data-ttu-id="ef10e-140">Notez que dans les deux cas, le calendrier par défaut de la culture est également inclus dans la collection <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-140">Note that in both cases, the culture's default calendar is also included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> collection.</span></span>

[!code-csharp[Conceptual.Calendars#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/calendarinfo1.cs#1)]
[!code-vb[Conceptual.Calendars#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/calendarinfo1.vb#1)]

<span data-ttu-id="ef10e-141">Le calendrier actuellement utilisé par un objet <xref:System.Globalization.CultureInfo> particulier est défini par la propriété de la culture <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-141">The calendar currently in use by a particular <xref:System.Globalization.CultureInfo> object is defined by the culture's <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ef10e-142">Un objet <xref:System.Globalization.DateTimeFormatInfo> de la culture est retourné par la propriété <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-142">A culture's <xref:System.Globalization.DateTimeFormatInfo> object is returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ef10e-143">Lorsqu'une culture est créée, sa valeur par défaut est identique à celle de la propriété <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-143">When a culture is created, its default value is the same as the value of the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ef10e-144">Toutefois, vous pouvez remplacer le calendrier actuel de la culture par n'importe quel calendrier contenu dans le tableau retourné par la propriété <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-144">However, you can change the culture's current calendar to any calendar contained in the array returned by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ef10e-145">Si vous essayez de définir le calendrier actuel à un calendrier qui n'est pas compris dans la valeur d'une propriété <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>, une <xref:System.ArgumentException> est levée.</span><span class="sxs-lookup"><span data-stu-id="ef10e-145">If you try to set the current calendar to a calendar that is not included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property value, an <xref:System.ArgumentException> is thrown.</span></span>

<span data-ttu-id="ef10e-146">L'exemple suivant remplace le calendrier utilisé par la culture arabe (Arabie Saoudite).</span><span class="sxs-lookup"><span data-stu-id="ef10e-146">The following example changes the calendar used by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="ef10e-147">Il instancie d'abord une valeur <xref:System.DateTime> et l'affiche à l'aide de la culture actuelle, qui, dans ce cas, est l'anglais (États-unis) et le calendrier actuel de la culture (qui, dans ce cas, est le calendrier grégorien).</span><span class="sxs-lookup"><span data-stu-id="ef10e-147">It first instantiates a <xref:System.DateTime> value and displays it using the current culture - which, in this case, is English (United States) - and the current culture's calendar (which, in this case, is the Gregorian calendar).</span></span> <span data-ttu-id="ef10e-148">Ensuite, il remplace la culture actuelle par l'arabe (Arabie Saoudite) et affiche la date en utilisant son calendrier Um Al Qura par défaut.</span><span class="sxs-lookup"><span data-stu-id="ef10e-148">Next, it changes the current culture to Arabic (Saudi Arabia) and displays the date using its default Um Al-Qura calendar.</span></span> <span data-ttu-id="ef10e-149">Il appelle ensuite la méthode `CalendarExists` pour déterminer si le calendrier Hijri est pris en charge par la culture arabe (Arabie Saoudite).</span><span class="sxs-lookup"><span data-stu-id="ef10e-149">It then calls the `CalendarExists` method to determine whether the Hijri calendar is supported by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="ef10e-150">Étant donné que le calendrier est pris en charge, il modifie le calendrier Hijri en cours et affiche à nouveau la date.</span><span class="sxs-lookup"><span data-stu-id="ef10e-150">Because the calendar is supported, it changes the current calendar to Hijri and again displays the date.</span></span> <span data-ttu-id="ef10e-151">Notez que, dans chaque cas, la date est affichée à l'aide du calendrier actuel de la culture actuelle.</span><span class="sxs-lookup"><span data-stu-id="ef10e-151">Note that in each case, the date is displayed using the current culture's current calendar.</span></span>

[!code-csharp[Conceptual.Calendars#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/changecalendar2.cs#2)]
[!code-vb[Conceptual.Calendars#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/changecalendar2.vb#2)]

## <a name="dates-and-calendars"></a><span data-ttu-id="ef10e-152">Dates et calendriers</span><span class="sxs-lookup"><span data-stu-id="ef10e-152">Dates and calendars</span></span>

<span data-ttu-id="ef10e-153">À l'exception des constructeurs qui incluent un paramètre de type <xref:System.Globalization.Calendar> et permettent aux éléments d'une date (c'est-à-dire, le mois, le jour et l'année) de refléter des valeurs dans un calendrier indiqué, les valeurs de <xref:System.DateTime> et <xref:System.DateTimeOffset> sont toujours basées sur le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-153">With the exception of the constructors that include a parameter of type <xref:System.Globalization.Calendar> and allow the elements of a date (that is, the month, the day, and the year) to reflect values in a designated calendar, both <xref:System.DateTime> and <xref:System.DateTimeOffset> values are always based on the Gregorian calendar.</span></span> <span data-ttu-id="ef10e-154">Cela signifie, par exemple, que la <xref:System.DateTime.Year%2A?displayProperty=nameWithType> retourne l'année dans le calendrier grégorien, tandis que la propriété <xref:System.DateTime.Day%2A?displayProperty=nameWithType> retourne le jour du mois dans le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-154">This means, for example, that the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> property returns the year in the Gregorian calendar, and the <xref:System.DateTime.Day%2A?displayProperty=nameWithType> property returns the day of the month in the Gregorian calendar.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ef10e-155">Il est important de se souvenir qu'il existe une différence entre une valeur de date et sa représentation sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="ef10e-155">It is important to remember that there is a difference between a date value and its string representation.</span></span> <span data-ttu-id="ef10e-156">La première est basée sur le calendrier grégorien ; la dernière est basée sur le calendrier actuel d'une culture spécifique.</span><span class="sxs-lookup"><span data-stu-id="ef10e-156">The former is based on the Gregorian calendar; the latter is based on the current calendar of a specific culture.</span></span>

<span data-ttu-id="ef10e-157">L'exemple suivant illustre cette différence entre les propriétés <xref:System.DateTime> et les méthodes <xref:System.Globalization.Calendar> correspondantes.</span><span class="sxs-lookup"><span data-stu-id="ef10e-157">The following example illustrates this difference between <xref:System.DateTime> properties and their corresponding <xref:System.Globalization.Calendar> methods.</span></span> <span data-ttu-id="ef10e-158">Dans l'exemple, la culture actuelle est arabe (Égypte) et le calendrier actuel est Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="ef10e-158">In the example, the current culture is Arabic (Egypt), and the current calendar is Um Al Qura.</span></span> <span data-ttu-id="ef10e-159">Une valeur <xref:System.DateTime> est définie sur le quinzième jour du septième mois de 2011.</span><span class="sxs-lookup"><span data-stu-id="ef10e-159">A <xref:System.DateTime> value is set to the fifteenth day of the seventh month of 2011.</span></span> <span data-ttu-id="ef10e-160">Il est clair qu'elle est interprétée comme étant une date grégorienne, car ces mêmes valeurs sont retournées par la méthode <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> lorsqu'elle utilise des conventions de la culture indifférente.</span><span class="sxs-lookup"><span data-stu-id="ef10e-160">It is clear that this is interpreted as a Gregorian date, because these same values are returned by the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> method when it uses the conventions of the invariant culture.</span></span> <span data-ttu-id="ef10e-161">La représentation sous forme de chaîne de la date qui est mise en forme à l'aide des conventions de la culture actuelle est 14/08/32, qui est la date équivalente dans le calendrier Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="ef10e-161">The string representation of the date that is formatted using the conventions of the current culture is 14/08/32, which is the equivalent date in the Um Al Qura calendar.</span></span> <span data-ttu-id="ef10e-162">Ensuite, les membres de `DateTime` et `Calendar` sont utilisés pour retourner le jour, le mois et l'année de la valeur <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-162">Next, members of `DateTime` and `Calendar` are used to return the day, the month, and the year of the <xref:System.DateTime> value.</span></span> <span data-ttu-id="ef10e-163">Dans chaque cas, les valeurs retournées par les membres <xref:System.DateTime> reflètent les valeurs du calendrier grégorien, tandis que les valeurs retournées par les membres <xref:System.Globalization.UmAlQuraCalendar> reflètent les valeurs du calendrier Um-Al Qura.</span><span class="sxs-lookup"><span data-stu-id="ef10e-163">In each case, the values returned by <xref:System.DateTime> members reflect values in the Gregorian calendar, whereas values returned by <xref:System.Globalization.UmAlQuraCalendar> members reflect values in the Uum al-Qura calendar.</span></span>

[!code-csharp[Conceptual.Calendars#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/datesandcalendars2.cs#3)]
[!code-vb[Conceptual.Calendars#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/datesandcalendars2.vb#3)]

### <a name="instantiating-dates-based-on-a-calendar"></a><span data-ttu-id="ef10e-164">Instanciation de dates selon un calendrier</span><span class="sxs-lookup"><span data-stu-id="ef10e-164">Instantiating dates based on a calendar</span></span>

<span data-ttu-id="ef10e-165">Étant donné que les valeurs <xref:System.DateTime> et <xref:System.DateTimeOffset> sont basées sur le calendrier grégorien, vous devez appeler un constructeur surchargé qui inclut un paramètre de type <xref:System.Globalization.Calendar> pour instancier une valeur de date si vous souhaitez utiliser le jour, le mois ou les années d'un calendrier différent.</span><span class="sxs-lookup"><span data-stu-id="ef10e-165">Because <xref:System.DateTime> and <xref:System.DateTimeOffset> values are based on the Gregorian calendar, you must call an overloaded constructor that includes a parameter of type <xref:System.Globalization.Calendar> to instantiate a date value if you want to use the day, month, or year values from a different calendar.</span></span> <span data-ttu-id="ef10e-166">Vous pouvez également appeler une des surcharges d'une méthode <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> d'un calendrier spécifique pour instancier un objet <xref:System.DateTime> en fonction des valeurs d'un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="ef10e-166">You can also call one of the overloads of a specific calendar's <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> method to instantiate a <xref:System.DateTime> object based on the values of a particular calendar.</span></span>

<span data-ttu-id="ef10e-167">L'exemple suivant instancie une valeur <xref:System.DateTime> en passant un objet <xref:System.Globalization.HebrewCalendar> à un constructeur <xref:System.DateTime> et instancie une seconde valeur <xref:System.DateTime> en appelant la méthode <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-167">The following example instantiates one <xref:System.DateTime> value by passing a <xref:System.Globalization.HebrewCalendar> object to a <xref:System.DateTime> constructor, and instantiates a second <xref:System.DateTime> value by calling the <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="ef10e-168">Étant donné que les deux valeurs sont créées avec des valeurs identiques du calendrier hébreu, l'appel de la méthode <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> indique que les deux valeurs <xref:System.DateTime> sont égales.</span><span class="sxs-lookup"><span data-stu-id="ef10e-168">Because the two values are created with identical values from the Hebrew calendar, the call to the <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> method shows that the two <xref:System.DateTime> values are equal.</span></span>

[!code-csharp[Conceptual.Calendars#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatehcdate1.cs#4)]
[!code-vb[Conceptual.Calendars#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatehcdate1.vb#4)]

### <a name="representing-dates-in-the-current-calendar"></a><span data-ttu-id="ef10e-169">Représentation des dates dans le calendrier actuel</span><span class="sxs-lookup"><span data-stu-id="ef10e-169">Representing dates in the current calendar</span></span>

<span data-ttu-id="ef10e-170">Les méthodes de mise en forme de la date et de l'heure utilisent toujours le calendrier actuel en convertissant les dates en chaînes.</span><span class="sxs-lookup"><span data-stu-id="ef10e-170">Date and time formatting methods always use the current calendar when converting dates to strings.</span></span> <span data-ttu-id="ef10e-171">Cela signifie que la représentation sous forme de chaîne de l'année, du mois et du jour du mois reflète le calendrier actuel et pas nécessairement le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-171">This means that the string representation of the year, the month, and the day of the month reflect the current calendar, and do not necessarily reflect the Gregorian calendar.</span></span>

<span data-ttu-id="ef10e-172">L'exemple suivant montre comment le calendrier actuel affecte la représentation sous forme de chaîne d'une date.</span><span class="sxs-lookup"><span data-stu-id="ef10e-172">The following example shows how the current calendar affects the string representation of a date.</span></span> <span data-ttu-id="ef10e-173">Il remplace la culture actuelle par le chinois (traditionnel, Taïwan) et instancie une valeur de date.</span><span class="sxs-lookup"><span data-stu-id="ef10e-173">It changes the current culture to Chinese (Traditional, Taiwan), and instantiates a date value.</span></span> <span data-ttu-id="ef10e-174">Il affiche ensuite le calendrier actuel et la date, remplace le calendrier actuel par <xref:System.Globalization.TaiwanCalendar> et affiche à nouveau le calendrier actuel et la date .</span><span class="sxs-lookup"><span data-stu-id="ef10e-174">It then displays the current calendar and the date, changes the current calendar to <xref:System.Globalization.TaiwanCalendar>, and displays the current calendar and date once again.</span></span> <span data-ttu-id="ef10e-175">La première fois que la date est affichée, elle est représentée sous la forme d'une date du calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-175">The first time the date is displayed, it is represented as a date in the Gregorian calendar.</span></span> <span data-ttu-id="ef10e-176">La seconde fois qu'elle est affichée, elle est représentée sous la forme d'une date du calendrier taïwanais.</span><span class="sxs-lookup"><span data-stu-id="ef10e-176">The second time it is displayed, it is represented as a date in the Taiwan calendar.</span></span>

[!code-csharp[Conceptual.Calendars#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/currentcalendar1.cs#5)]
[!code-vb[Conceptual.Calendars#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/currentcalendar1.vb#5)]

### <a name="representing-dates-in-a-non-current-calendar"></a><span data-ttu-id="ef10e-177">Représentation des dates dans un calendrier non actuel</span><span class="sxs-lookup"><span data-stu-id="ef10e-177">Representing dates in a non-current calendar</span></span>

<span data-ttu-id="ef10e-178">Pour représenter une date à l'aide d'un calendrier qui n'est pas le calendrier actuel d'une culture particulière, vous devez appeler des méthodes de cet objet <xref:System.Globalization.Calendar>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-178">To represent a date using a calendar that is not the current calendar of a particular culture, you must call methods of that <xref:System.Globalization.Calendar> object.</span></span> <span data-ttu-id="ef10e-179">Par exemple, les méthodes <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> et <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> convertissent l'année, le mois et le jour en valeurs qui reflètent un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="ef10e-179">For example, the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods convert the year, month, and day to values that reflect a particular calendar.</span></span>

> [!WARNING]
> <span data-ttu-id="ef10e-180">Étant donné que certains calendriers ne sont les calendriers facultatifs d'aucune culture, la représentation des dates dans ces calendriers requiert toujours l'appel de méthodes de calendrier.</span><span class="sxs-lookup"><span data-stu-id="ef10e-180">Because some calendars are not optional calendars of any culture, representing dates in these calendars always requires that you call calendar methods.</span></span> <span data-ttu-id="ef10e-181">C'est le cas de tous les calendriers qui dérivent des classes <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar> et <xref:System.Globalization.PersianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-181">This is true of all calendars that derive from the <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, and <xref:System.Globalization.PersianCalendar> classes.</span></span>

<span data-ttu-id="ef10e-182">L'exemple suivant utilise un objet <xref:System.Globalization.JulianCalendar> pour instancier une date, le 9 janvier 1905, dans le calendrier julien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-182">The following example uses a <xref:System.Globalization.JulianCalendar> object to instantiate a date, January 9, 1905, in the Julian calendar.</span></span> <span data-ttu-id="ef10e-183">Lorsque cette date est affichée à l'aide du calendrier par défaut (grégorien), elle est représentée sous la forme de 22 janvier 1905.</span><span class="sxs-lookup"><span data-stu-id="ef10e-183">When this date is displayed using the default (Gregorian) calendar, it is represented as January 22, 1905.</span></span> <span data-ttu-id="ef10e-184">Les appels de méthodes <xref:System.Globalization.JulianCalendar> individuelles permettent de représenter la date dans le calendrier julien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-184">Calls to individual <xref:System.Globalization.JulianCalendar> methods enable the date to be represented in the Julian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/noncurrentcalendar1.cs#6)]
[!code-vb[Conceptual.Calendars#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/noncurrentcalendar1.vb#6)]

### <a name="calendars-and-date-ranges"></a><span data-ttu-id="ef10e-185">Calendriers et plages de dates</span><span class="sxs-lookup"><span data-stu-id="ef10e-185">Calendars and date ranges</span></span>

<span data-ttu-id="ef10e-186">La première date prise en charge par un calendrier est indiquée par la propriété <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> de ce calendrier.</span><span class="sxs-lookup"><span data-stu-id="ef10e-186">The earliest date supported by a calendar is indicated by that calendar's <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ef10e-187">Pour la classe <xref:System.Globalization.GregorianCalendar>, cette date est le 1er janvier 0001 (notre ère).</span><span class="sxs-lookup"><span data-stu-id="ef10e-187">For the <xref:System.Globalization.GregorianCalendar> class, that date is January 1, 0001 C.E.</span></span> <span data-ttu-id="ef10e-188">La plupart des autres calendriers dans .NET prennent en charge une date ultérieure.</span><span class="sxs-lookup"><span data-stu-id="ef10e-188">Most of the other calendars in .NET support a later date.</span></span> <span data-ttu-id="ef10e-189">Le fait d'essayer d'utiliser une valeur de date et d'heure qui précède la première date prise en charge d'un calendrier lève une exception <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-189">Trying to work with a date and time value that precedes a calendar's earliest supported date throws an <xref:System.ArgumentOutOfRangeException> exception.</span></span>

<span data-ttu-id="ef10e-190">Toutefois, il existe une exception importante.</span><span class="sxs-lookup"><span data-stu-id="ef10e-190">However, there is one important exception.</span></span> <span data-ttu-id="ef10e-191">La valeur par défaut (non initialisée) d'un objet <xref:System.DateTime> et d'un objet <xref:System.DateTimeOffset> est égale à la valeur <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-191">The default (uninitialized) value of a <xref:System.DateTime> object and a <xref:System.DateTimeOffset> object is equal to the <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="ef10e-192">Si vous essayez de mettre en forme cette date dans un calendrier qui ne prend pas en charge le 1er janvier 0001 (notre ère)</span><span class="sxs-lookup"><span data-stu-id="ef10e-192">If you try to format this date in a calendar that does not support January 1, 0001 C.E.</span></span> <span data-ttu-id="ef10e-193">et vous ne fournissez pas un spécificateur de format, la méthode de mise en forme utilise le spécificateur de format « s » (modèle de date/heure pouvant être trié) au lieu du spécificateur de format « G » (modèle de date/heure général).</span><span class="sxs-lookup"><span data-stu-id="ef10e-193">and you do not provide a format specifier, the formatting method uses the "s" (sortable date/time pattern) format specifier instead of the "G" (general date/time pattern) format specifier.</span></span> <span data-ttu-id="ef10e-194">Par conséquent, l'opération de mise en forme ne lève pas d'exception <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-194">As a result, the formatting operation does not throw an <xref:System.ArgumentOutOfRangeException> exception.</span></span> <span data-ttu-id="ef10e-195">Au lieu de cela, elle retourne la date non prise en charge.</span><span class="sxs-lookup"><span data-stu-id="ef10e-195">Instead, it returns the unsupported date.</span></span> <span data-ttu-id="ef10e-196">L'exemple suivant illustre cela en affichant la valeur <xref:System.DateTime.MinValue?displayProperty=nameWithType> lorsque la culture actuelle est définie sur Japonais (Japon) avec le calendrier japonais, et Arabe (Égypte) avec le calendrier Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="ef10e-196">This is illustrated in the following example, which displays the value of <xref:System.DateTime.MinValue?displayProperty=nameWithType> when the current culture is set to Japanese (Japan) with the Japanese calendar, and to Arabic (Egypt) with the Um Al Qura calendar.</span></span> <span data-ttu-id="ef10e-197">Il définit également la culture actuelle sur Anglais (États-Unis) et appelle la méthode <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> à chacun de ces objets <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-197">It also sets the current culture to English (United States) and calls the <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> method with each of these <xref:System.Globalization.CultureInfo> objects.</span></span> <span data-ttu-id="ef10e-198">Dans chaque cas, la date est affichée à l’aide du modèle de date/heure pouvant être trié.</span><span class="sxs-lookup"><span data-stu-id="ef10e-198">In each case, the date is displayed by using the sortable date/time pattern.</span></span>

[!code-csharp[Conceptual.Calendars#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/minsupporteddatetime1.cs#11)]
[!code-vb[Conceptual.Calendars#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/minsupporteddatetime1.vb#11)]

## <a name="working-with-eras"></a><span data-ttu-id="ef10e-199">Utilisation des ères</span><span class="sxs-lookup"><span data-stu-id="ef10e-199">Working with eras</span></span>

<span data-ttu-id="ef10e-200">Les calendriers divisent en général les dates en ères.</span><span class="sxs-lookup"><span data-stu-id="ef10e-200">Calendars typically divide dates into eras.</span></span> <span data-ttu-id="ef10e-201">Toutefois, le <xref:System.Globalization.Calendar> classes dans .NET ne prennent pas en charge chaque ère définie par un calendrier et la plupart de la <xref:System.Globalization.Calendar> classes prennent en charge qu’une seule ère.</span><span class="sxs-lookup"><span data-stu-id="ef10e-201">However, the <xref:System.Globalization.Calendar> classes in .NET do not support every era defined by a calendar, and most of the <xref:System.Globalization.Calendar> classes support only a single era.</span></span> <span data-ttu-id="ef10e-202">Seules les classes <xref:System.Globalization.JapaneseCalendar> et <xref:System.Globalization.JapaneseLunisolarCalendar> prennent en charge plusieurs ères.</span><span class="sxs-lookup"><span data-stu-id="ef10e-202">Only the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes support multiple eras.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="ef10e-203">Dans les calendriers <xref:System.Globalization.JapaneseCalendar> et <xref:System.Globalization.JapaneseLunisolarCalendar>, une nouvelle ère commence le 1er mai 2019.</span><span class="sxs-lookup"><span data-stu-id="ef10e-203">A new era in the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> begins on May 1, 2019.</span></span> <span data-ttu-id="ef10e-204">Ce changement affecte toutes les applications qui utilisent ces calendriers.</span><span class="sxs-lookup"><span data-stu-id="ef10e-204">This change affects all applications that use these calendars.</span></span> <span data-ttu-id="ef10e-205">Pour plus d’informations et pour déterminer si vos applications sont affectées, consultez [Handling a new era in the Japanese calendar in .NET](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/).</span><span class="sxs-lookup"><span data-stu-id="ef10e-205">See [Handling a new era in the Japanese calendar in .NET](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/) for more information and to determine whether your applications are affected.</span></span> <span data-ttu-id="ef10e-206">Consultez [préparer votre application pour la modification de l’ère japonais](/windows/uwp/design/globalizing/japanese-era-change) pour plus d’informations sur le test de vos applications sur Windows pour garantir leur disponibilité pour la modification de l’ère.</span><span class="sxs-lookup"><span data-stu-id="ef10e-206">See [Prepare your application for the Japanese era change](/windows/uwp/design/globalizing/japanese-era-change) for information on testing your applications on Windows to ensure their readiness for the era change.</span></span>

<span data-ttu-id="ef10e-207">Une ère dans la plupart des calendriers désigne une période de temps extrêmement long.</span><span class="sxs-lookup"><span data-stu-id="ef10e-207">An era in most calendars denotes an extremely long time period.</span></span> <span data-ttu-id="ef10e-208">Dans le calendrier grégorien, par exemple, l’ère actuelle s’étend sur plus de deux millenia.</span><span class="sxs-lookup"><span data-stu-id="ef10e-208">In the Gregorian calendar, for example, the current era spans more than two millenia.</span></span> <span data-ttu-id="ef10e-209">Pour le <xref:System.Globalization.JapaneseCalendar> et <xref:System.Globalization.JapaneseLunisolarCalendar>, les deux calendriers qui prennent en charge plusieurs ères, cela n’est pas le cas.</span><span class="sxs-lookup"><span data-stu-id="ef10e-209">For the <xref:System.Globalization.JapaneseCalendar> and the <xref:System.Globalization.JapaneseLunisolarCalendar>, the two calendars that support multiple eras, this is not the case.</span></span> <span data-ttu-id="ef10e-210">Une ère correspond à la période d’un calendrier d’impérial.</span><span class="sxs-lookup"><span data-stu-id="ef10e-210">An era corresponds to the period of an emperor's reign.</span></span> <span data-ttu-id="ef10e-211">Prise en charge de plusieurs ères, en particulier lorsque la limite supérieure de l’ère actuelle est inconnue, pose des défis particuliers.</span><span class="sxs-lookup"><span data-stu-id="ef10e-211">Support for multiple eras, particularly when the upper limit of the current era is unknown, poses special challenges.</span></span> 

### <a name="eras-and-era-names"></a><span data-ttu-id="ef10e-212">Ères et noms d’ères</span><span class="sxs-lookup"><span data-stu-id="ef10e-212">Eras and era names</span></span>

<span data-ttu-id="ef10e-213">Dans .NET, les entiers qui représentent les ères prises en charge par une implémentation particulière de calendrier sont stockées dans l’ordre inverse dans le <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> tableau.</span><span class="sxs-lookup"><span data-stu-id="ef10e-213">In .NET, integers that represent the eras supported by a particular calendar implementation are stored in reverse order in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array.</span></span> <span data-ttu-id="ef10e-214">L'ère actuelle se trouve à l'index zéro et pour les classes <xref:System.Globalization.Calendar> qui prennent en charge plusieurs ères, chaque index successif reflète l'ère précédente.</span><span class="sxs-lookup"><span data-stu-id="ef10e-214">The current era is at index zero, and for <xref:System.Globalization.Calendar> classes that support multiple eras, each successive index reflects the previous era.</span></span> <span data-ttu-id="ef10e-215">La propriété statique <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> définit l'index de l'ère actuelle dans le tableau <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> ; il s'agit d'une constante dont la valeur est toujours zéro.</span><span class="sxs-lookup"><span data-stu-id="ef10e-215">The static <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> property defines the index of the current era in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array; it is a constant whose value is always zero.</span></span> <span data-ttu-id="ef10e-216">Les classes <xref:System.Globalization.Calendar> individuelles incluent également les champs static qui retournent la valeur de l’ère actuelle.</span><span class="sxs-lookup"><span data-stu-id="ef10e-216">Individual <xref:System.Globalization.Calendar> classes also include static fields that return the value of the current era.</span></span> <span data-ttu-id="ef10e-217">Elles sont répertoriées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="ef10e-217">They are listed in the following table.</span></span>

| <span data-ttu-id="ef10e-218">Classe de calendrier</span><span class="sxs-lookup"><span data-stu-id="ef10e-218">Calendar class</span></span>                                        | <span data-ttu-id="ef10e-219">Champ d'ère actuelle</span><span class="sxs-lookup"><span data-stu-id="ef10e-219">Current era field</span></span>                                                 |
| ----------------------------------------------------- | ----------------------------------------------------------------- |
| <xref:System.Globalization.ChineseLunisolarCalendar>  | <xref:System.Globalization.ChineseLunisolarCalendar.ChineseEra>   |
| <xref:System.Globalization.GregorianCalendar>         | <xref:System.Globalization.GregorianCalendar.ADEra>               |
| <xref:System.Globalization.HebrewCalendar>            | <xref:System.Globalization.HebrewCalendar.HebrewEra>              |
| <xref:System.Globalization.HijriCalendar>             | <xref:System.Globalization.HijriCalendar.HijriEra>                |
| <xref:System.Globalization.JapaneseLunisolarCalendar> | <xref:System.Globalization.JapaneseLunisolarCalendar.JapaneseEra> |
| <xref:System.Globalization.JulianCalendar>            | <xref:System.Globalization.JulianCalendar.JulianEra>              |
| <xref:System.Globalization.KoreanCalendar>            | <xref:System.Globalization.KoreanCalendar.KoreanEra>              |
| <xref:System.Globalization.KoreanLunisolarCalendar>   | <xref:System.Globalization.KoreanLunisolarCalendar.GregorianEra>  |
| <xref:System.Globalization.PersianCalendar>           | <xref:System.Globalization.PersianCalendar.PersianEra>            |
| <xref:System.Globalization.ThaiBuddhistCalendar>      | <xref:System.Globalization.ThaiBuddhistCalendar.ThaiBuddhistEra>  |
| <xref:System.Globalization.UmAlQuraCalendar>          | <xref:System.Globalization.UmAlQuraCalendar.UmAlQuraEra>          |

<span data-ttu-id="ef10e-220">Le nom qui correspond à un numéro d'ère particulier peut être extrait en passant le numéro d'ère à la méthode <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> ou <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-220">The name that corresponds to a particular era number can be retrieved by passing the era number to the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> or <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="ef10e-221">L'exemple suivant appelle ces méthodes pour extraire des informations sur la prise en charge de l'ère dans la classe <xref:System.Globalization.GregorianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-221">The following example calls these methods to retrieve information about era support in the <xref:System.Globalization.GregorianCalendar> class.</span></span>

[!code-csharp[Conceptual.Calendars#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatewithera1.cs#7)]
[!code-vb[Conceptual.Calendars#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatewithera1.vb#7)]

<span data-ttu-id="ef10e-222">En outre, la chaîne de format de date et d'heure personnalisée « g » inclut un nom d'ère du calendrier dans la représentation sous forme de chaîne d'une date et d'une heure.</span><span class="sxs-lookup"><span data-stu-id="ef10e-222">In addition, the "g" custom date and time format string includes a calendar's era name in the string representation of a date and time.</span></span> <span data-ttu-id="ef10e-223">Pour plus d’informations, consultez [chaînes de format de date personnalisée et heure](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="ef10e-223">For more information, see [Custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span></span>

### <a name="instantiating-a-date-with-an-era"></a><span data-ttu-id="ef10e-224">Instanciation d’une date avec une ère</span><span class="sxs-lookup"><span data-stu-id="ef10e-224">Instantiating a date with an era</span></span>

<span data-ttu-id="ef10e-225">Pour les deux <xref:System.Globalization.Calendar> des classes qui prennent en charge plusieurs ères, une date qui se compose d’une année donnée, le mois et le jour de la valeur de mois peut être ambiguë.</span><span class="sxs-lookup"><span data-stu-id="ef10e-225">For the two <xref:System.Globalization.Calendar> classes that support multiple eras, a date that consists of a particular year, month, and day of the month value can be ambiguous.</span></span> <span data-ttu-id="ef10e-226">Par exemple, tous les ères prises en charge par le <xref:System.Globalization.JapaneseCalendar> comporter des années dont le numéro est 1.</span><span class="sxs-lookup"><span data-stu-id="ef10e-226">For example, all eras supported by the <xref:System.Globalization.JapaneseCalendar> have years whose number is 1.</span></span> <span data-ttu-id="ef10e-227">En règle générale, si une ère n'est pas spécifiée, les méthodes de date et d'heure et de calendrier supposent que les valeurs appartiennent à l'ère actuelle.</span><span class="sxs-lookup"><span data-stu-id="ef10e-227">Ordinarily, if an era is not specified, both date and time and calendar methods assume that values belong to the current era.</span></span> <span data-ttu-id="ef10e-228">Cela est vrai pour les <xref:System.DateTime.%23ctor%2A> et <xref:System.DateTimeOffset.%23ctor%2A> constructeurs qui incluent des paramètres de type <xref:System.Globalization.Calendar>, ainsi que le [JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) et [JapaneseLunisolarCalendar.ToDateTime ](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) méthodes.</span><span class="sxs-lookup"><span data-stu-id="ef10e-228">This is true of the <xref:System.DateTime.%23ctor%2A> and <xref:System.DateTimeOffset.%23ctor%2A> constructors that include parameters of type <xref:System.Globalization.Calendar>, as well as the [JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) and [JapaneseLunisolarCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) methods.</span></span> <span data-ttu-id="ef10e-229">L’exemple suivant instancie une date qui représente le 1er janvier de la deuxième année d’une ère non spécifiée.</span><span class="sxs-lookup"><span data-stu-id="ef10e-229">The following example instantiates a date that represents January 1 of the second year of an unspecified era.</span></span> <span data-ttu-id="ef10e-230">Comme le montre le résultat de l’exemple, la date est interprétée comme la deuxième année de l’ère Heisei, l’ère actuelle au moment de que cet exemple a été exécuté.</span><span class="sxs-lookup"><span data-stu-id="ef10e-230">As the output from the example shows, the date is interpreted as the second year of the Heisei era, the current era at the time this example was executed.</span></span> <span data-ttu-id="ef10e-231">L’ère, 平成, précède l’année dans la chaîne retournée par la <xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType> (méthode) et correspond au 1er janvier 1990, dans le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-231">The era, 平成, precedes the year in the string returned by the <xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType> method and corresponds to January 1, 1990, in the Gregorian calendar.</span></span> <span data-ttu-id="ef10e-232">(La plage de l’ère Heisei provient 1989 à 2019 dans le calendrier grégorien.)</span><span class="sxs-lookup"><span data-stu-id="ef10e-232">(The range of the Heisei era is from 1989 to 2019 in the Gregorian calendar.)</span></span>

[!code-csharp[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/cs/program.cs)]
[!code-vb[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/vb/program.vb)]

<span data-ttu-id="ef10e-233">Toutefois, si l’ère change, l’objectif de ce code devient ambigu.</span><span class="sxs-lookup"><span data-stu-id="ef10e-233">However, if the era changes, the intent of this code becomes ambiguous.</span></span> <span data-ttu-id="ef10e-234">La date doit représenter la deuxième année de l’ère actuelle, ou est destiné à représenter la deuxième année de l’ère Heisei ?</span><span class="sxs-lookup"><span data-stu-id="ef10e-234">Is the date intended to represent the second year of the current era, or is it intended to represent the second year of the Heisei era?</span></span> <span data-ttu-id="ef10e-235">Il existe deux façons d’éviter cette ambiguïté :</span><span class="sxs-lookup"><span data-stu-id="ef10e-235">There are two ways to avoid this ambiguity:</span></span>

- <span data-ttu-id="ef10e-236">La valeur de date et l’heure à l’aide de la valeur par défaut d’instancier <xref:System.Globalization.GregorianCalendar> classe.</span><span class="sxs-lookup"><span data-stu-id="ef10e-236">Instantiate the date and time value using the default <xref:System.Globalization.GregorianCalendar> class.</span></span> <span data-ttu-id="ef10e-237">Vous pouvez ensuite utiliser le calendrier japonais ou le calendrier lunisolaire japonais pour la représentation sous forme de chaîne de dates, comme le montre l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="ef10e-237">You can then use the Japanese calendar or the Japanese Lunisolar calendar for the string representation of dates, as the following example shows.</span></span>

   [!code-csharp[Insantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/cs/program.cs)]
   [!code-vb[Instantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/vb/program.vb)]

- <span data-ttu-id="ef10e-238">Appeler une méthode de date et d’heure qui spécifie explicitement une ère.</span><span class="sxs-lookup"><span data-stu-id="ef10e-238">Call a date and time method that explicitly specifies an era.</span></span> <span data-ttu-id="ef10e-239">Cela inclut les méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="ef10e-239">This includes the following methods:</span></span>

   - <span data-ttu-id="ef10e-240">Le <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> méthode de la <xref:System.Globalization.JapaneseCalendar> ou <xref:System.Globalization.JapaneseLunisolarCalendar> classe.</span><span class="sxs-lookup"><span data-stu-id="ef10e-240">The <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method of the <xref:System.Globalization.JapaneseCalendar> or <xref:System.Globalization.JapaneseLunisolarCalendar> class.</span></span>

   - <span data-ttu-id="ef10e-241">Un <xref:System.DateTime> ou <xref:System.DateTimeOffset> méthode, d’analyse comme <xref:System.DateTime.Parse%2A>, <xref:System.DateTime.TryParse%2A>, <xref:System.DateTime.ParseExact%2A>, ou <xref:System.DateTime.TryParseExact%2A>, qui inclut la chaîne à analyser et éventuellement un <xref:System.Globalization.DateTimeStyles> argument si la culture actuelle est le japonais (Japon) ( » ja-JP ») et le calendrier de cette culture est la <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-241">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method, such as <xref:System.DateTime.Parse%2A>, <xref:System.DateTime.TryParse%2A>, <xref:System.DateTime.ParseExact%2A>, or <xref:System.DateTime.TryParseExact%2A>, that includes the string to be parsed and optionally a <xref:System.Globalization.DateTimeStyles> argument if the current culture is Japanese-Japan ("ja-JP") and that culture's calendar is the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="ef10e-242">La chaîne à analyser doit inclure l’ère.</span><span class="sxs-lookup"><span data-stu-id="ef10e-242">The string to be parsed must include the era.</span></span>

   - <span data-ttu-id="ef10e-243">Un <xref:System.DateTime> ou <xref:System.DateTimeOffset> l’analyse de méthode qui inclut un `provider` paramètre de type <xref:System.IFormatProvider>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-243">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method that includes a `provider` parameter of type <xref:System.IFormatProvider>.</span></span> <span data-ttu-id="ef10e-244">`provider` doit être un <xref:System.Globalization.CultureInfo> objet qui représente la culture Japonais (Japon) (« ja-JP ») dont le calendrier actuel est <xref:System.Globalization.JapaneseCalendar> ou un <xref:System.Globalization.DateTimeFormatInfo> de l’objet dont la propriété <xref:System.Globalization.DateTimeFormatInfo.Calendar> propriété est <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-244">`provider` must be either a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture whose current calendar is <xref:System.Globalization.JapaneseCalendar> or a <xref:System.Globalization.DateTimeFormatInfo> object whose <xref:System.Globalization.DateTimeFormatInfo.Calendar> property is <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="ef10e-245">La chaîne à analyser doit inclure l’ère.</span><span class="sxs-lookup"><span data-stu-id="ef10e-245">The string to be parsed must include the era.</span></span>

   <span data-ttu-id="ef10e-246">L’exemple suivant utilise trois de ces méthodes pour instancier une date et une heure dans l’ère Meiji, qui a commencé le 8 septembre 1868 et a pris fin le 29 juillet 1912.</span><span class="sxs-lookup"><span data-stu-id="ef10e-246">The following example uses three of these methods to instantiate a date and time in the Meiji era, which began on September 8, 1868, and ended on July 29, 1912.</span></span> 

   [!code-csharp[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/cs/program.cs)]
   [!code-vb[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/vb/program.vb)]

> [!TIP]
> <span data-ttu-id="ef10e-247">Lorsque vous travaillez avec des calendriers qui prennent en charge plusieurs ères, *toujours* la date du calendrier grégorien permet d’instancier une date, ou spécifiez l’ère lorsque vous instanciez une date et heure en fonction de ce calendrier.</span><span class="sxs-lookup"><span data-stu-id="ef10e-247">When working with calendars that support multiple eras, *always* use the Gregorian date to instantiate a date, or specify the era when you instantiate a date and time based on that calendar.</span></span>

<span data-ttu-id="ef10e-248">Lors de la spécification d’une ère à la <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> (méthode), vous fournissez l’index de l’ère dans le calendrier <xref:System.Globalization.Calendar.Eras> propriété.</span><span class="sxs-lookup"><span data-stu-id="ef10e-248">In specifying a era to the <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method, you provide the index of the era in the calendar's <xref:System.Globalization.Calendar.Eras> property.</span></span> <span data-ttu-id="ef10e-249">Pour les calendriers dont ères sont susceptibles de changer, toutefois, ces index n’est pas des valeurs constantes ; l’ère actuelle est à l’index 0 et l’ère la plus ancienne est à l’index `Eras.Length - 1`.</span><span class="sxs-lookup"><span data-stu-id="ef10e-249">For calendars whose eras are subject to change, however, these indexes are not constant values; the current era is at index 0, and the oldest era is at index `Eras.Length - 1`.</span></span> <span data-ttu-id="ef10e-250">Lorsqu’une nouvelle ère est ajoutée à un calendrier, les index des ères précédentes augmenter d’une unité.</span><span class="sxs-lookup"><span data-stu-id="ef10e-250">When a new era is added to a calendar, the indexes of the previous eras increase by one.</span></span> <span data-ttu-id="ef10e-251">Vous pouvez fournir l’index de l’ère approprié comme suit :</span><span class="sxs-lookup"><span data-stu-id="ef10e-251">You can supply the appropriate era index as follows:</span></span>

- <span data-ttu-id="ef10e-252">Pour les dates dans l’ère actuelle, utilisez toujours le calendrier <xref:System.Globalization.Calendar.CurrentEra> propriété.</span><span class="sxs-lookup"><span data-stu-id="ef10e-252">For dates in the current era, always use the calendar's <xref:System.Globalization.Calendar.CurrentEra> property.</span></span>

- <span data-ttu-id="ef10e-253">Pour les dates d’une ère spécifiée, utilisez la <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> méthode pour récupérer l’index qui correspond à un nom de l’ère spécifiée.</span><span class="sxs-lookup"><span data-stu-id="ef10e-253">For dates in a specified era, use the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> method to retrieve the index that corresponds to a specified era name.</span></span> <span data-ttu-id="ef10e-254">Ceci nécessite que le <xref:System.Globalization.JapaneseCalendar> être le calendrier actuel de la <xref:System.Globalization.CultureInfo> objet qui représente la culture ja-JP.</span><span class="sxs-lookup"><span data-stu-id="ef10e-254">This requires that the <xref:System.Globalization.JapaneseCalendar> be the current calendar of the <xref:System.Globalization.CultureInfo> object that represents the ja-JP culture.</span></span>  <span data-ttu-id="ef10e-255">(Cette technique fonctionne pour le <xref:System.Globalization.JapaneseLunisolarCalendar> également, car il prend en charge les mêmes ères comme le <xref:System.Globalization.JapaneseCalendar>.) L’exemple précédent illustre cette approche.</span><span class="sxs-lookup"><span data-stu-id="ef10e-255">(This technique works for the <xref:System.Globalization.JapaneseLunisolarCalendar> as well, since it supports the same eras as the <xref:System.Globalization.JapaneseCalendar>.) The previous example illustrates this approach.</span></span>

### <a name="calendars-eras-and-date-ranges-relaxed-range-checks"></a><span data-ttu-id="ef10e-256">Calendriers, des ères et plages de dates : Vérifications de la plage souple</span><span class="sxs-lookup"><span data-stu-id="ef10e-256">Calendars, eras, and date ranges: Relaxed range checks</span></span>

<span data-ttu-id="ef10e-257">Très bien comme des calendriers individuels ont pris en charge les plages de dates, les ères dans le <xref:System.Globalization.JapaneseCalendar> et <xref:System.Globalization.JapaneseLunisolarCalendar> classes également ont pris en charge des plages.</span><span class="sxs-lookup"><span data-stu-id="ef10e-257">Very much like individual calendars have supported date ranges, eras in the  <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes also have supported ranges.</span></span> <span data-ttu-id="ef10e-258">Auparavant, .NET utilisé ère strict range vérifie pour s’assurer qu’une date spécifique à l’ère a dans la plage de l’époque.</span><span class="sxs-lookup"><span data-stu-id="ef10e-258">Previously, .NET used strict era range checks to ensure that a era-specific date was within the range of that era.</span></span> <span data-ttu-id="ef10e-259">Une date hors limites lèverait une le .NET Framework utilise la vérification par plage souple par défaut.</span><span class="sxs-lookup"><span data-stu-id="ef10e-259">An out-of-range date would throw a the .NET Framework uses relaxed ranged checking by default.</span></span> <span data-ttu-id="ef10e-260">Autrement dit, si une date est en dehors de la plage de l’ère spécifiée, la méthode lève un <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-260">That is, if a date is outside of the range of the specified era, the method throws an <xref:System.ArgumentOutOfRangeException>.</span></span> <span data-ttu-id="ef10e-261">Mises à jour pour toutes les versions du .NET Framework introduit assouplie ère plage vérifications ; la tentative d’instancier une date spécifique à l’ère qui est en dehors de la plage de l’ère spécifiée « dépassement » dans l’ère suivant et aucune exception n’est levée.</span><span class="sxs-lookup"><span data-stu-id="ef10e-261">Updates to all versions of the .NET Framework introduced relaxed era range checks; the attempt to instantiate an era-specific date that is outside the range of the specified era "overflow" into the following era, and no exception is thrown.</span></span>

<span data-ttu-id="ef10e-262">L’exemple suivant tente d’instancier une date dans l’année 65e de l’ère Showa, qui a commencé le 25 décembre 1926 et a pris fin le 7 janvier 1989.</span><span class="sxs-lookup"><span data-stu-id="ef10e-262">The following example attempts to instantiate a date in the 65th year of the Showa era, which began on December 25, 1926 and ended on January 7, 1989.</span></span> <span data-ttu-id="ef10e-263">Cette date correspond à 9 janvier 1990, qui est en dehors de la plage de l’ère Showa dans le <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="ef10e-263">This date corresponds to January 9, 1990, which is outside the range of the Showa era in the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="ef10e-264">Comme l’illustre la sortie de l’exemple, la date affichée par l’exemple est le 9 janvier 1990, dans la deuxième année de l’ère Heisei.</span><span class="sxs-lookup"><span data-stu-id="ef10e-264">As the output from the example illustrates, the date displayed by the example is January 9, 1990, in the second year of the Heisei era.</span></span>

   [!code-csharp[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/cs/program.cs)]
   [!code-vb[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/vb/program.vb)]

<span data-ttu-id="ef10e-265">Si les vérifications de la plage souple sont indésirables, vous pouvez restaurer les vérifications de la plage strict dans une de plusieurs façons, selon la version de .NET sur laquelle votre application est en cours d’exécution :</span><span class="sxs-lookup"><span data-stu-id="ef10e-265">If relaxed range checks are undesirable, you can restore strict range checks in a number of ways, depending on the version of .NET on which your application is running:</span></span>

- <span data-ttu-id="ef10e-266">**.NET core :** Vous pouvez ajouter le code suivant à la *. netcore.runtime.json* fichier de configuration :</span><span class="sxs-lookup"><span data-stu-id="ef10e-266">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.EnforceJapaneseEraYearRanges": true
      } 
   }
   ```

- <span data-ttu-id="ef10e-267">**.NET framework 4.6 ou version ultérieure :** Vous pouvez définir le commutateur AppContext suivant :</span><span class="sxs-lookup"><span data-stu-id="ef10e-267">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceJapaneseEraYearRanges=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="ef10e-268">**.NET framework 4.5.2 ou version antérieure :** Vous pouvez définir la valeur de Registre suivante :</span><span class="sxs-lookup"><span data-stu-id="ef10e-268">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|
   |<span data-ttu-id="ef10e-269">Touche</span><span class="sxs-lookup"><span data-stu-id="ef10e-269">Key</span></span> | <span data-ttu-id="ef10e-270">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="ef10e-270">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="ef10e-271">Name</span><span class="sxs-lookup"><span data-stu-id="ef10e-271">Name</span></span> | <span data-ttu-id="ef10e-272">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span><span class="sxs-lookup"><span data-stu-id="ef10e-272">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span></span> |
   |<span data-ttu-id="ef10e-273">Type</span><span class="sxs-lookup"><span data-stu-id="ef10e-273">Type</span></span> | <span data-ttu-id="ef10e-274">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="ef10e-274">REG_SZ</span></span> |
   |<span data-ttu-id="ef10e-275">Value</span><span class="sxs-lookup"><span data-stu-id="ef10e-275">Value</span></span> | <span data-ttu-id="ef10e-276">1</span><span class="sxs-lookup"><span data-stu-id="ef10e-276">1</span></span> |

<span data-ttu-id="ef10e-277">Avec les vérifications de la plage strict est activées, l’exemple précédent lève une <xref:System.ArgumentOutOfRangeException> et affiche la sortie suivante :</span><span class="sxs-lookup"><span data-stu-id="ef10e-277">With strict range checks enabled, the previous example throws an <xref:System.ArgumentOutOfRangeException> and displays the following output:</span></span>

```console
Unhandled Exception: System.ArgumentOutOfRangeException: Valid values are between 1 and 64, inclusive.
Parameter name: year
   at System.Globalization.GregorianCalendarHelper.GetYearOffset(Int32 year, Int32 era, Boolean throwOnError)
   at System.Globalization.GregorianCalendarHelper.ToDateTime(Int32 year, Int32 month, Int32 day, Int32 hour, Int32 minute, Int32 second, Int32 millisecond, Int32 era)
   at Example.Main()
```

### <a name="representing-dates-in-calendars-with-multiple-eras"></a><span data-ttu-id="ef10e-278">Représentation des dates dans des calendriers avec plusieurs ères</span><span class="sxs-lookup"><span data-stu-id="ef10e-278">Representing dates in calendars with multiple eras</span></span>

<span data-ttu-id="ef10e-279">Si un objet <xref:System.Globalization.Calendar> prend en charge les ères et est le calendrier actuel d’un objet <xref:System.Globalization.CultureInfo>, l’ère est comprise dans la représentation sous forme de chaîne d’une valeur de date et d’heure pour les modèles de date et d’heure complètes, de date longue et de date courte.</span><span class="sxs-lookup"><span data-stu-id="ef10e-279">If a <xref:System.Globalization.Calendar> object supports eras and is the current calendar of a <xref:System.Globalization.CultureInfo> object, the era is included in the string representation of a date and time value for the full date and time, long date, and short date patterns.</span></span> <span data-ttu-id="ef10e-280">L’exemple suivant illustre ces modèles de date lorsque la culture actuelle est le japonais (Japon) et le calendrier actuel est le japonais.</span><span class="sxs-lookup"><span data-stu-id="ef10e-280">The following example displays these date patterns when the current culture is Japan (Japanese) and the current calendar is the Japanese calendar.</span></span>

[!code-csharp[Conceptual.Calendars#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings1.cs#8)]
[!code-vb[Conceptual.Calendars#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings1.vb#8)]

> [!WARNING]
> <span data-ttu-id="ef10e-281">Le <xref:System.Globalization.JapaneseCalendar> classe est la seule classe de calendrier dans .NET qui les deux dates prend en charge plusieurs ères et qui peut être le calendrier actuel d’un <xref:System.Globalization.CultureInfo> objet - spécifiquement, d’un <xref:System.Globalization.CultureInfo> objet qui représente la culture Japonais (Japon).</span><span class="sxs-lookup"><span data-stu-id="ef10e-281">The <xref:System.Globalization.JapaneseCalendar> class is the only calendar class in .NET that both supports dates in more than one era and that can be the current calendar of a <xref:System.Globalization.CultureInfo> object - specifically, of a <xref:System.Globalization.CultureInfo> object that represents the Japanese (Japan) culture.</span></span>

<span data-ttu-id="ef10e-282">Pour tous les calendriers, le spécificateur de format personnalisé « g » inclut l'ère dans la chaîne de résultat.</span><span class="sxs-lookup"><span data-stu-id="ef10e-282">For all calendars, the "g" custom format specifier includes the era in the result string.</span></span> <span data-ttu-id="ef10e-283">L'exemple suivant utilise la chaîne de format personnalisé de "MM-jj-aaaa g" pour inclure l'ère dans la chaîne de résultat quand le calendrier actuel est le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="ef10e-283">The following example uses the "MM-dd-yyyy g" custom format string to include the era in the result string when the current calendar is the Gregorian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings2.cs#9)]
[!code-vb[Conceptual.Calendars#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings2.vb#9)]

<span data-ttu-id="ef10e-284">Dans les cas où la représentation sous forme de chaîne d'une date est exprimée dans un calendrier qui n'est pas le calendrier en cours, la classe <xref:System.Globalization.Calendar> inclut une méthode <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> qui peut être utilisée avec les méthodes <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> et <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> pour indiquer clairement une date ainsi que l'ère à laquelle elle appartient.</span><span class="sxs-lookup"><span data-stu-id="ef10e-284">In cases where the string representation of a date is expressed in a calendar that is not the current calendar, the <xref:System.Globalization.Calendar> class includes a <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> method that can be used along with the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods to unambiguously indicate a date as well as the era to which it belongs.</span></span> <span data-ttu-id="ef10e-285">L'exemple suivant utilise la classe <xref:System.Globalization.JapaneseLunisolarCalendar> pour fournir une illustration.</span><span class="sxs-lookup"><span data-stu-id="ef10e-285">The following example uses the <xref:System.Globalization.JapaneseLunisolarCalendar> class to provide an illustration.</span></span> <span data-ttu-id="ef10e-286">Toutefois, notez que le fait d'inclure un nom ou une abréviation explicite au lieu d'un entier pour l'ère dans la chaîne de résultat requiert d'instancier un objet <xref:System.Globalization.DateTimeFormatInfo> et de faire de <xref:System.Globalization.JapaneseCalendar> son calendrier actuel.</span><span class="sxs-lookup"><span data-stu-id="ef10e-286">However, note that including a meaningful name or abbreviation instead of an integer for the era in the result string requires that you instantiate a <xref:System.Globalization.DateTimeFormatInfo> object and make <xref:System.Globalization.JapaneseCalendar> its current calendar.</span></span> <span data-ttu-id="ef10e-287">(Le calendrier <xref:System.Globalization.JapaneseLunisolarCalendar> ne peut pas être le calendrier actuel d'une culture, mais dans ce cas, les deux calendriers partagent les mêmes ères.)</span><span class="sxs-lookup"><span data-stu-id="ef10e-287">(The <xref:System.Globalization.JapaneseLunisolarCalendar> calendar cannot be the current calendar of any culture, but in this case the two calendars share the same eras.)</span></span>

[!code-csharp[Conceptual.Calendars#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings3.cs#10)]
[!code-vb[Conceptual.Calendars#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings3.vb#10)]

<span data-ttu-id="ef10e-288">Dans les calendriers japonais, la première année d’une ère est appelée Gannen du (元年).</span><span class="sxs-lookup"><span data-stu-id="ef10e-288">In the Japanese calendars, the first year of an era is called Gannen (元年).</span></span> <span data-ttu-id="ef10e-289">Par exemple, au lieu de Heisei 1, la première année de l’ère Heisei peut être décrit comme Heisei Gannen.</span><span class="sxs-lookup"><span data-stu-id="ef10e-289">For example, instead of Heisei 1, the first year of the Heisei era can be described as Heisei Gannen.</span></span> <span data-ttu-id="ef10e-290">.NET adopte cette convention de mise en forme des opérations pour les dates et heures avec le format date standard ou personnalisée suivante et format d’heure chaînes lorsqu’ils sont utilisés avec un <xref:System.Globalization.CultureInfo> objet qui représente la culture Japonais (Japon) (« ja-JP ») avec le <xref:System.Globalization.JapaneseCalendar> classe :</span><span class="sxs-lookup"><span data-stu-id="ef10e-290">.NET adopts this convention in formatting operations for dates and times formatted with the following standard or custom date and time format strings when they are used with a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture with the <xref:System.Globalization.JapaneseCalendar> class:</span></span>

- <span data-ttu-id="ef10e-291">[Le modèle de date longue](../base-types/standard-date-and-time-format-strings.md#LongDate), indiqué par la date et heure de chaîne de format standard « D ».</span><span class="sxs-lookup"><span data-stu-id="ef10e-291">[The long date pattern](../base-types/standard-date-and-time-format-strings.md#LongDate), indicated by the "D" standard date and time format string.</span></span>
- <span data-ttu-id="ef10e-292">[Modèle de la date complète heure longue](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime), indiqué par la date et heure de chaîne de format standard « F ».</span><span class="sxs-lookup"><span data-stu-id="ef10e-292">[The full date long time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime), indicated by the "F" standard date and time format string.</span></span>
- <span data-ttu-id="ef10e-293">[Le modèle d’heure courte de date complet](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime), indiqué par la date et heure de chaîne de format standard « f ».</span><span class="sxs-lookup"><span data-stu-id="ef10e-293">[The full date short time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime), indicated by the "f" standard date and time format string.</span></span>
- <span data-ttu-id="ef10e-294">[Le modèle d’année/mois](../base-types/standard-date-and-time-format-strings.md#YearMonth), indiqué par le Y » ou « y » date et heure standard chaîne de format.</span><span class="sxs-lookup"><span data-stu-id="ef10e-294">[The year/month pattern](../base-types/standard-date-and-time-format-strings.md#YearMonth), indicated by the Y" or "y" standard date and time format string.</span></span>
- <span data-ttu-id="ef10e-295">[La « ggy '年' » ou « ggy年 » [chaîne de format de date et heure](../base-types/custom-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="ef10e-295">[The "ggy'年'" or "ggy年" [custom date and time format string](../base-types/custom-date-and-time-format-strings.md).</span></span>

<span data-ttu-id="ef10e-296">Par exemple, l’exemple suivant affiche une date dans la première année de l’ère Heisei dans le <xref:System.Globalization.JapaneseCalendar> .</span><span class="sxs-lookup"><span data-stu-id="ef10e-296">For example, the following example displays a date in the first year of the Heisei era in the <xref:System.Globalization.JapaneseCalendar> .</span></span>

   [!code-csharp[gannen](~/samples/snippets/standard/datetime/calendars/gannen/cs/program.cs)]
   [!code-vb[gannen](~/samples/snippets/standard/datetime/calendars/gannen/vb/gannen-fmt.vb)]

<span data-ttu-id="ef10e-297">Si ce comportement n’est pas souhaitable dans les opérations de mise en forme, vous pouvez restaurer le comportement précédent, qui représente toujours la première année d’une ère « 1 » au lieu de « Gannen », en procédant comme suit, selon la version de .NET :</span><span class="sxs-lookup"><span data-stu-id="ef10e-297">If this behavior is undesirable in formatting operations, you can restore the previous behavior, which always represents the first year of an era as “1” rather than “Gannen”, by doing the following, depending on the version of .NET:</span></span>

- <span data-ttu-id="ef10e-298">**.NET core :** Vous pouvez ajouter le code suivant à la *. netcore.runtime.json* fichier de configuration :</span><span class="sxs-lookup"><span data-stu-id="ef10e-298">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.FormatJapaneseFirstYearAsANumber": true
      } 
   }
   ```

- <span data-ttu-id="ef10e-299">**.NET framework 4.6 ou version ultérieure :** Vous pouvez définir le commutateur AppContext suivant :</span><span class="sxs-lookup"><span data-stu-id="ef10e-299">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.FormatJapaneseFirstYearAsANumber=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="ef10e-300">**.NET framework 4.5.2 ou version antérieure :** Vous pouvez définir la valeur de Registre suivante :</span><span class="sxs-lookup"><span data-stu-id="ef10e-300">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|
   |<span data-ttu-id="ef10e-301">Touche</span><span class="sxs-lookup"><span data-stu-id="ef10e-301">Key</span></span> | <span data-ttu-id="ef10e-302">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="ef10e-302">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="ef10e-303">Name</span><span class="sxs-lookup"><span data-stu-id="ef10e-303">Name</span></span> | <span data-ttu-id="ef10e-304">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span><span class="sxs-lookup"><span data-stu-id="ef10e-304">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span></span> |
   |<span data-ttu-id="ef10e-305">Type</span><span class="sxs-lookup"><span data-stu-id="ef10e-305">Type</span></span> | <span data-ttu-id="ef10e-306">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="ef10e-306">REG_SZ</span></span> |
   |<span data-ttu-id="ef10e-307">Value</span><span class="sxs-lookup"><span data-stu-id="ef10e-307">Value</span></span> | <span data-ttu-id="ef10e-308">1</span><span class="sxs-lookup"><span data-stu-id="ef10e-308">1</span></span> |

<span data-ttu-id="ef10e-309">Prend en charge Gannen du désactivé des opérations de mise en forme, l’exemple précédent affiche la sortie suivante :</span><span class="sxs-lookup"><span data-stu-id="ef10e-309">With gannen support in formatting operations disabled, the previous example displays the following output:</span></span>

```console
Japanese calendar date: 平成1年8月18日 (Gregorian: Friday, August 18, 1989)
```

<span data-ttu-id="ef10e-310">.NET a également été mis à jour afin que la date et l’heure d’opérations d’analyse prend en charge les chaînes qui contiennent l’année représenté en tant que « 1 » ou Gannen du.</span><span class="sxs-lookup"><span data-stu-id="ef10e-310">.NET has also been updated so that date and time parsing operations support strings that contain the year represented as either "1" or Gannen.</span></span> <span data-ttu-id="ef10e-311">Bien que vous ne devez pas pour ce faire, vous pouvez restaurer le comportement précédent à reconnaît uniquement « 1 » en tant que la première année d’une ère.</span><span class="sxs-lookup"><span data-stu-id="ef10e-311">Although you should not need to do this, you can restore the previous behavior to recognizes only “1” as the first year of an era.</span></span> <span data-ttu-id="ef10e-312">Vous pouvez le faire comme suit, selon la version de .NET :</span><span class="sxs-lookup"><span data-stu-id="ef10e-312">You can do this as follows, depending on the version of .NET:</span></span>

- <span data-ttu-id="ef10e-313">**.NET core :** Vous pouvez ajouter le code suivant à la *. netcore.runtime.json* fichier de configuration :</span><span class="sxs-lookup"><span data-stu-id="ef10e-313">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.EnforceLegacyJapaneseDateParsing": true
      } 
   }
   ```

- <span data-ttu-id="ef10e-314">**.NET framework 4.6 ou version ultérieure :** Vous pouvez définir le commutateur AppContext suivant :</span><span class="sxs-lookup"><span data-stu-id="ef10e-314">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceLegacyJapaneseDateParsing=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="ef10e-315">**.NET framework 4.5.2 ou version antérieure :** Vous pouvez définir la valeur de Registre suivante :</span><span class="sxs-lookup"><span data-stu-id="ef10e-315">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|  
   |<span data-ttu-id="ef10e-316">Touche</span><span class="sxs-lookup"><span data-stu-id="ef10e-316">Key</span></span> | <span data-ttu-id="ef10e-317">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="ef10e-317">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="ef10e-318">Name</span><span class="sxs-lookup"><span data-stu-id="ef10e-318">Name</span></span> | <span data-ttu-id="ef10e-319">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span><span class="sxs-lookup"><span data-stu-id="ef10e-319">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span></span> |
   |<span data-ttu-id="ef10e-320">Type</span><span class="sxs-lookup"><span data-stu-id="ef10e-320">Type</span></span> | <span data-ttu-id="ef10e-321">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="ef10e-321">REG_SZ</span></span> |
   |<span data-ttu-id="ef10e-322">Value</span><span class="sxs-lookup"><span data-stu-id="ef10e-322">Value</span></span> | <span data-ttu-id="ef10e-323">1</span><span class="sxs-lookup"><span data-stu-id="ef10e-323">1</span></span> | 

## <a name="see-also"></a><span data-ttu-id="ef10e-324">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ef10e-324">See also</span></span>

- [<span data-ttu-id="ef10e-325">Guide pratique pour Afficher des dates dans des calendriers non grégoriens</span><span class="sxs-lookup"><span data-stu-id="ef10e-325">How to: Display dates in non-Gregorian calendars</span></span>](../../../docs/standard/base-types/how-to-display-dates-in-non-gregorian-calendars.md)
- [<span data-ttu-id="ef10e-326">Exemple : Utilitaire de plages de semaine de calendrier</span><span class="sxs-lookup"><span data-stu-id="ef10e-326">Sample: Calendar week range utility</span></span>](https://code.msdn.microsoft.com/NET-Framework-4-Calendar-3360a84a)
