---
title: 'Comment : afficher des dates dans des calendriers non grégoriens'
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [.NET Framework], dates
- dates [.NET Framework], formatting
- calendars [.NET Framework], displaying dates
- displaying date and time data
ms.assetid: ed324eff-4aff-4a76-b6c0-04e6c0d8f5a9
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 3da8a524af872a724ee6cbe206912572d6338624
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33574746"
---
# <a name="how-to-display-dates-in-non-gregorian-calendars"></a><span data-ttu-id="fc66f-102">Comment : afficher des dates dans des calendriers non grégoriens</span><span class="sxs-lookup"><span data-stu-id="fc66f-102">How to: Display Dates in Non-Gregorian Calendars</span></span>
<span data-ttu-id="fc66f-103">Les types <xref:System.DateTime> et <xref:System.DateTimeOffset> utilisent le calendrier grégorien comme calendrier par défaut.</span><span class="sxs-lookup"><span data-stu-id="fc66f-103">The <xref:System.DateTime> and <xref:System.DateTimeOffset> types use the Gregorian calendar as their default calendar.</span></span> <span data-ttu-id="fc66f-104">Cela signifie que l’appel de la méthode `ToString` d’une valeur de date et d’heure affiche la représentation sous forme de chaîne de la date et de l’heure dans le calendrier grégorien, même si ces date et heure ont été créées à l’aide d’un autre calendrier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-104">This means that calling a date and time value's `ToString` method displays the string representation of that date and time in the Gregorian calendar, even if that date and time was created using another calendar.</span></span> <span data-ttu-id="fc66f-105">Cela est illustré dans l’exemple suivant, qui utilise deux méthodes différentes pour créer une valeur de date et d’heure avec le calendrier persan, mais affiche toujours ces valeurs de date et d’heure dans le calendrier grégorien quand il appelle la méthode <xref:System.DateTime.ToString%2A>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-105">This is illustrated in the following example, which uses two different ways to create a date and time value with the Persian calendar, but still displays those date and time values in the Gregorian calendar when it calls the <xref:System.DateTime.ToString%2A> method.</span></span> <span data-ttu-id="fc66f-106">Cet exemple reflète deux techniques couramment utilisées, mais incorrectes, pour l’affichage de la date dans un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-106">This example reflects two commonly used but incorrect techniques for displaying the date in a particular calendar.</span></span>  
  
 [!code-csharp[Formatting.HowTo.Calendar#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.Calendar/cs/Calendar1.cs#1)]
 [!code-vb[Formatting.HowTo.Calendar#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.Calendar/vb/Calendar1.vb#1)]  
  
 <span data-ttu-id="fc66f-107">Deux techniques différentes peuvent être utilisées pour afficher la date dans un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-107">Two different techniques can be used to display the date in a particular calendar.</span></span> <span data-ttu-id="fc66f-108">La première nécessite que le calendrier soit le calendrier par défaut pour une culture particulière.</span><span class="sxs-lookup"><span data-stu-id="fc66f-108">The first requires that the calendar be the default calendar for a particular culture.</span></span> <span data-ttu-id="fc66f-109">La seconde est utilisable avec n’importe quel calendrier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-109">The second can be used with any calendar.</span></span>  
  
### <a name="to-display-the-date-for-a-cultures-default-calendar"></a><span data-ttu-id="fc66f-110">Pour afficher la date pour le calendrier par défaut d’une culture</span><span class="sxs-lookup"><span data-stu-id="fc66f-110">To display the date for a culture's default calendar</span></span>  
  
1.  <span data-ttu-id="fc66f-111">Instanciez un objet de calendrier dérivé de la classe <xref:System.Globalization.Calendar> qui représente le calendrier à utiliser.</span><span class="sxs-lookup"><span data-stu-id="fc66f-111">Instantiate a calendar object derived from the <xref:System.Globalization.Calendar> class that represents the calendar to be used.</span></span>  
  
2.  <span data-ttu-id="fc66f-112">Instanciez un objet <xref:System.Globalization.CultureInfo> représentant la culture dont la mise en forme doit être utilisée pour afficher la date.</span><span class="sxs-lookup"><span data-stu-id="fc66f-112">Instantiate a <xref:System.Globalization.CultureInfo> object representing the culture whose formatting will be used to display the date.</span></span>  
  
3.  <span data-ttu-id="fc66f-113">Appelez la méthode <xref:System.Array.Exists%2A?displayProperty=nameWithType> pour déterminer si l’objet de calendrier est membre du tableau retourné par la propriété <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-113">Call the <xref:System.Array.Exists%2A?displayProperty=nameWithType> method to determine whether the calendar object is a member of the array returned by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fc66f-114">Cela indique que le calendrier peut servir de calendrier par défaut pour l’objet <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-114">This indicates that the calendar can serve as the default calendar for the <xref:System.Globalization.CultureInfo> object.</span></span> <span data-ttu-id="fc66f-115">S’il n’est pas membre du tableau, suivez les instructions de la section « Pour afficher la date dans un calendrier ».</span><span class="sxs-lookup"><span data-stu-id="fc66f-115">If it is not a member of the array, follow the instructions in the "To Display the Date in Any Calendar" section.</span></span>  
  
4.  <span data-ttu-id="fc66f-116">Attribuez l’objet de calendrier à la propriété <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A> de l'objet <xref:System.Globalization.DateTimeFormatInfo> retourné par la propriété <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-116">Assign the calendar object to the <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A> property of the <xref:System.Globalization.DateTimeFormatInfo> object returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="fc66f-117">La classe <xref:System.Globalization.CultureInfo> a également une propriété <xref:System.Globalization.CultureInfo.Calendar%2A>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-117">The <xref:System.Globalization.CultureInfo> class also has a <xref:System.Globalization.CultureInfo.Calendar%2A> property.</span></span> <span data-ttu-id="fc66f-118">Toutefois, elle est en lecture seule et constante. Elle ne change pas pour refléter le nouveau calendrier par défaut attribué à la propriété <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-118">However, it is read-only and constant; it does not change to reflect the new default calendar assigned to the <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span>  
  
5.  <span data-ttu-id="fc66f-119">Appelez la méthode <xref:System.DateTime.ToString%2A> ou <xref:System.DateTime.ToString%2A> et passez-la à l’objet <xref:System.Globalization.CultureInfo> dont le calendrier par défaut a été modifié à l’étape précédente.</span><span class="sxs-lookup"><span data-stu-id="fc66f-119">Call either the <xref:System.DateTime.ToString%2A> or the <xref:System.DateTime.ToString%2A> method, and pass it the <xref:System.Globalization.CultureInfo> object whose default calendar was modified in the previous step.</span></span>  
  
### <a name="to-display-the-date-in-any-calendar"></a><span data-ttu-id="fc66f-120">Pour afficher la date dans un calendrier</span><span class="sxs-lookup"><span data-stu-id="fc66f-120">To display the date in any calendar</span></span>  
  
1.  <span data-ttu-id="fc66f-121">Instanciez un objet de calendrier dérivé de la classe <xref:System.Globalization.Calendar> qui représente le calendrier à utiliser.</span><span class="sxs-lookup"><span data-stu-id="fc66f-121">Instantiate a calendar object derived from the <xref:System.Globalization.Calendar> class that represents the calendar to be used.</span></span>  
  
2.  <span data-ttu-id="fc66f-122">Déterminez les éléments de date et d’heure qui doivent apparaître dans la représentation sous forme de chaîne de la valeur de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="fc66f-122">Determine which date and time elements should appear in the string representation of the date and time value.</span></span>  
  
3.  <span data-ttu-id="fc66f-123">Pour chaque élément de date et d’heure que vous souhaitez afficher, appelez la méthode `Get`... de l’objet de calendrier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-123">For each date and time element that you want to display, call the calendar object's `Get`…</span></span> <span data-ttu-id="fc66f-124">.</span><span class="sxs-lookup"><span data-stu-id="fc66f-124">method.</span></span> <span data-ttu-id="fc66f-125">Les méthodes suivantes sont disponibles :</span><span class="sxs-lookup"><span data-stu-id="fc66f-125">The following methods are available:</span></span>  
  
    -   <span data-ttu-id="fc66f-126"><xref:System.Globalization.Calendar.GetYear%2A>, pour afficher l’année dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fc66f-126"><xref:System.Globalization.Calendar.GetYear%2A>, to display the year in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fc66f-127"><xref:System.Globalization.Calendar.GetMonth%2A>, pour afficher le mois dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fc66f-127"><xref:System.Globalization.Calendar.GetMonth%2A>, to display the month in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fc66f-128"><xref:System.Globalization.Calendar.GetDayOfMonth%2A>, pour afficher le numéro du jour du mois dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fc66f-128"><xref:System.Globalization.Calendar.GetDayOfMonth%2A>, to display the number of the day of the month in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fc66f-129"><xref:System.Globalization.Calendar.GetHour%2A>, pour afficher l’heure du jour dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fc66f-129"><xref:System.Globalization.Calendar.GetHour%2A>, to display the hour of the day in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fc66f-130"><xref:System.Globalization.Calendar.GetMinute%2A>, pour afficher les minutes de l’heure dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fc66f-130"><xref:System.Globalization.Calendar.GetMinute%2A>, to display the minutes in the hour in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fc66f-131"><xref:System.Globalization.Calendar.GetSecond%2A>, pour afficher les secondes de la minute dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fc66f-131"><xref:System.Globalization.Calendar.GetSecond%2A>, to display the seconds in the minute in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fc66f-132"><xref:System.Globalization.Calendar.GetMilliseconds%2A>, pour afficher les millisecondes de la seconde dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fc66f-132"><xref:System.Globalization.Calendar.GetMilliseconds%2A> , to display the milliseconds in the second in the appropriate calendar.</span></span>  
  
## <a name="example"></a><span data-ttu-id="fc66f-133">Exemple</span><span class="sxs-lookup"><span data-stu-id="fc66f-133">Example</span></span>  
 <span data-ttu-id="fc66f-134">L’exemple affiche une date à l’aide de deux calendriers différents.</span><span class="sxs-lookup"><span data-stu-id="fc66f-134">The example displays a date using two different calendars.</span></span> <span data-ttu-id="fc66f-135">Il affiche la date après avoir défini le calendrier hégirien comme calendrier par défaut pour la culture ar-JO et affiche la date à l’aide du calendrier persan, qui n’est pas pris en charge comme calendrier facultatif par la culture fa-IR.</span><span class="sxs-lookup"><span data-stu-id="fc66f-135">It displays the date after defining the Hijri calendar as the default calendar for the ar-JO culture, and displays the date using the Persian calendar, which is not supported as an optional calendar by the fa-IR culture.</span></span>  
  
 [!code-csharp[Formatting.HowTo.Calendar#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.Calendar/cs/Calendar1.cs#2)]
 [!code-vb[Formatting.HowTo.Calendar#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.Calendar/vb/Calendar1.vb#2)]  
  
 <span data-ttu-id="fc66f-136">Chaque objet <xref:System.Globalization.CultureInfo> peut prendre en charge un ou plusieurs calendriers, indiqués par la propriété <xref:System.Globalization.CultureInfo.OptionalCalendars%2A>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-136">Each <xref:System.Globalization.CultureInfo> object can support one or more calendars, which are indicated by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A> property.</span></span> <span data-ttu-id="fc66f-137">L’un d’eux est désigné comme calendrier par défaut de la culture et est retourné par la propriété <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="fc66f-137">One of these is designated as the culture's default calendar and is returned by the read-only <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fc66f-138">Un autre des calendriers facultatifs peut être désigné comme calendrier par défaut en attribuant un objet <xref:System.Globalization.Calendar> qui représente ce calendrier à la propriété <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> retournée par la propriété <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-138">Another of the optional calendars can be designated as the default by assigning a <xref:System.Globalization.Calendar> object that represents that calendar to the <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fc66f-139">Toutefois, certains calendriers, tels que le calendrier persan représenté par la classe <xref:System.Globalization.PersianCalendar>, ne servent de calendriers facultatifs pour aucune culture.</span><span class="sxs-lookup"><span data-stu-id="fc66f-139">However, some calendars, such as the Persian calendar represented by the <xref:System.Globalization.PersianCalendar> class, do not serve as optional calendars for any culture.</span></span>  
  
 <span data-ttu-id="fc66f-140">L’exemple définit une classe utilitaire de calendrier réutilisable, `CalendarUtility`, pour gérer de nombreux détails de la génération de la représentation sous forme de chaîne d’une date à l’aide d’un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-140">The example defines a reusable calendar utility class, `CalendarUtility`, to handle many of the details of generating the string representation of a date using a particular calendar.</span></span> <span data-ttu-id="fc66f-141">La classe `CalendarUtility` possède les membres suivants :</span><span class="sxs-lookup"><span data-stu-id="fc66f-141">The `CalendarUtility` class has the following members:</span></span>  
  
-   <span data-ttu-id="fc66f-142">Un constructeur paramétré dont le paramètre unique est un objet <xref:System.Globalization.Calendar> dans lequel la date doit être représentée.</span><span class="sxs-lookup"><span data-stu-id="fc66f-142">A parameterized constructor whose single parameter is a <xref:System.Globalization.Calendar> object in which a date is to be represented.</span></span> <span data-ttu-id="fc66f-143">Il est assigné à un champ privé de la classe.</span><span class="sxs-lookup"><span data-stu-id="fc66f-143">This is assigned to a private field of the class.</span></span>  
  
-   <span data-ttu-id="fc66f-144">`CalendarExists`, méthode privée qui retourne une valeur booléenne indiquant si le calendrier représenté par l’objet `CalendarUtility` est pris en charge par l’objet <xref:System.Globalization.CultureInfo> qui est passé à la méthode comme paramètre.</span><span class="sxs-lookup"><span data-stu-id="fc66f-144">`CalendarExists`, a private method that returns a Boolean value indicating whether the calendar represented by the `CalendarUtility` object is supported by the <xref:System.Globalization.CultureInfo> object that is passed to the method as a parameter.</span></span> <span data-ttu-id="fc66f-145">La méthode encapsule un appel à la méthode <xref:System.Array.Exists%2A?displayProperty=nameWithType>, à laquelle est passé le tableau <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-145">The method wraps a call to the <xref:System.Array.Exists%2A?displayProperty=nameWithType> method, to which it passes the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> array.</span></span>  
  
-   <span data-ttu-id="fc66f-146">`HasSameName`, méthode privée assignée au délégué <xref:System.Predicate%601> qui est passé comme paramètre à la méthode <xref:System.Array.Exists%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fc66f-146">`HasSameName`, a private method assigned to the <xref:System.Predicate%601> delegate that is passed as a parameter to the <xref:System.Array.Exists%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="fc66f-147">Chaque membre du tableau est passé à la méthode jusqu’à ce qu’elle retourne `true`.</span><span class="sxs-lookup"><span data-stu-id="fc66f-147">Each member of the array is passed to the method until the method returns `true`.</span></span> <span data-ttu-id="fc66f-148">La méthode détermine si le nom d’un calendrier facultatif est identique à celui du calendrier représenté par l’objet `CalendarUtility`.</span><span class="sxs-lookup"><span data-stu-id="fc66f-148">The method determines whether the name of an optional calendar is the same as the calendar represented by the `CalendarUtility` object.</span></span>  
  
-   <span data-ttu-id="fc66f-149">`DisplayDate`, méthode publique surchargée qui reçoit deux paramètres : une valeur <xref:System.DateTime> ou <xref:System.DateTimeOffset> à exprimer dans le calendrier représenté par l’objet `CalendarUtility` et la culture dont les règles de mise en forme doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="fc66f-149">`DisplayDate`, an overloaded public method that is passed two parameters: either a <xref:System.DateTime> or <xref:System.DateTimeOffset> value to express in the calendar represented by the `CalendarUtility` object; and the culture whose formatting rules are to be used.</span></span> <span data-ttu-id="fc66f-150">La façon dont elle retourne la représentation sous forme de chaîne d’une date varie selon que le calendrier cible est pris en charge ou non par la culture dont les règles de mise en forme doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="fc66f-150">Its behavior in returning the string representation of a date depends on whether the target calendar is supported by the culture whose formatting rules are to be used.</span></span>  
  
 <span data-ttu-id="fc66f-151">Quel que soit le calendrier utilisé pour créer une valeur <xref:System.DateTime> ou <xref:System.DateTimeOffset> dans cet exemple, la valeur est généralement exprimée sous la forme d’une date du calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="fc66f-151">Regardless of the calendar used to create a <xref:System.DateTime> or <xref:System.DateTimeOffset> value in this example, that value is typically expressed as a Gregorian date.</span></span> <span data-ttu-id="fc66f-152">En effet, les types <xref:System.DateTime> et <xref:System.DateTimeOffset> ne conservent pas les informations de calendrier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-152">This is because the <xref:System.DateTime> and <xref:System.DateTimeOffset> types do not preserve any calendar information.</span></span> <span data-ttu-id="fc66f-153">En interne, elles sont représentées comme nombre de graduations qui se sont écoulées depuis le 1er janvier 0001 à minuit.</span><span class="sxs-lookup"><span data-stu-id="fc66f-153">Internally, they are represented as the number of ticks that have elapsed since midnight of January 1, 0001.</span></span> <span data-ttu-id="fc66f-154">L’interprétation de ce nombre dépend du calendrier.</span><span class="sxs-lookup"><span data-stu-id="fc66f-154">The interpretation of that number depends on the calendar.</span></span> <span data-ttu-id="fc66f-155">Pour la plupart des cultures, le calendrier par défaut est le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="fc66f-155">For most cultures, the default calendar is the Gregorian calendar.</span></span>  
  
## <a name="compiling-the-code"></a><span data-ttu-id="fc66f-156">Compilation du code</span><span class="sxs-lookup"><span data-stu-id="fc66f-156">Compiling the Code</span></span>  
 <span data-ttu-id="fc66f-157">Cet exemple nécessite une référence à System.Core.dll.</span><span class="sxs-lookup"><span data-stu-id="fc66f-157">This example requires a reference to System.Core.dll.</span></span>  
  
 <span data-ttu-id="fc66f-158">Compilez le code sur la ligne de commande à l’aide de csc.exe ou vb.exe.</span><span class="sxs-lookup"><span data-stu-id="fc66f-158">Compile the code at the command line using csc.exe or vb.exe.</span></span> <span data-ttu-id="fc66f-159">Pour compiler le code dans Visual Studio, mettez-le dans un modèle de projet d’application console.</span><span class="sxs-lookup"><span data-stu-id="fc66f-159">To compile the code in Visual Studio, put it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fc66f-160">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fc66f-160">See Also</span></span>  
 [<span data-ttu-id="fc66f-161">Exécution d’opérations de mise en forme</span><span class="sxs-lookup"><span data-stu-id="fc66f-161">Performing Formatting Operations</span></span>](../../../docs/standard/base-types/performing-formatting-operations.md)
