---
title: Threads et threading
ms.date: 11/08/2018
ms.technology: dotnet-standard
helpviewer_keywords:
- multiple threads
- threading [.NET]
- threading [.NET], multiple threads
ms.assetid: 5baac3aa-e603-4fa6-9f89-0f2c1084e6b1
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: efbca8177c74fdee635b52294944df23e5aca24f
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/15/2019
ms.locfileid: "65638790"
---
# <a name="threads-and-threading"></a><span data-ttu-id="ce84e-102">Threads et threading</span><span class="sxs-lookup"><span data-stu-id="ce84e-102">Threads and threading</span></span>

<span data-ttu-id="ce84e-103">Le multithreading vous permet d’accélérer la réactivité de votre application et, si votre application s’exécute sur un système multiprocesseur ou multicœur, d’accélérer son débit.</span><span class="sxs-lookup"><span data-stu-id="ce84e-103">Multithreading allows you to increase the responsiveness of your application and, if your application runs on a multiprocessor or multi-core system, increase its throughput.</span></span>

## <a name="processes-and-threads"></a><span data-ttu-id="ce84e-104">Processus et threads</span><span class="sxs-lookup"><span data-stu-id="ce84e-104">Processes and threads</span></span>

<span data-ttu-id="ce84e-105">Un *processus* est un programme d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ce84e-105">A *process* is an executing program.</span></span> <span data-ttu-id="ce84e-106">Un système d’exploitation utilise des processus pour séparer les applications qui sont en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ce84e-106">An operating system uses processes to separate the applications that are being executed.</span></span> <span data-ttu-id="ce84e-107">Un *thread* est l’unité de base à laquelle un système d’exploitation alloue du temps processeur.</span><span class="sxs-lookup"><span data-stu-id="ce84e-107">A *thread* is the basic unit to which an operating system allocates processor time.</span></span> <span data-ttu-id="ce84e-108">Chaque thread a une [priorité de planification](scheduling-threads.md) et maintient un ensemble de structures utilisé par le système pour enregistrer le contexte du thread quand l’exécution du thread est en pause.</span><span class="sxs-lookup"><span data-stu-id="ce84e-108">Each thread has a [scheduling priority](scheduling-threads.md) and maintains a set of structures the system uses to save the thread context when the thread's execution is paused.</span></span> <span data-ttu-id="ce84e-109">Le contexte du thread comprend toutes les informations dont le thread a besoin pour reprendre l’exécution sans interruption, notamment son ensemble de registres de CPU et de pile.</span><span class="sxs-lookup"><span data-stu-id="ce84e-109">The thread context includes all the information the thread needs to seamlessly resume execution, including the thread's set of CPU registers and stack.</span></span> <span data-ttu-id="ce84e-110">Plusieurs threads peuvent s’exécuter dans le contexte d’un processus.</span><span class="sxs-lookup"><span data-stu-id="ce84e-110">Multiple threads can run in the context of a process.</span></span> <span data-ttu-id="ce84e-111">Tous les threads d’un processus partagent son espace d’adressage virtuel.</span><span class="sxs-lookup"><span data-stu-id="ce84e-111">All threads of a process share its virtual address space.</span></span> <span data-ttu-id="ce84e-112">Un thread peut exécuter n’importe quelle partie du code du programme, y compris les parties exécutées par un autre thread.</span><span class="sxs-lookup"><span data-stu-id="ce84e-112">A thread can execute any part of the program code, including parts currently being executed by another thread.</span></span>

> [!NOTE]
> <span data-ttu-id="ce84e-113">Le .NET Framework fournit un moyen d’isoler les applications dans un processus à l’aide de *domaines d’application*.</span><span class="sxs-lookup"><span data-stu-id="ce84e-113">The .NET Framework provides a way to isolate applications within a process with the use of *application domains*.</span></span> <span data-ttu-id="ce84e-114">(Les domaines d’application ne sont pas disponibles sur .NET Core.) Pour plus d’informations, consultez la section [Domaines d’application et threads](../../framework/app-domains/application-domains.md#application-domains-and-threads) de l’article [Domaines d’application](../../framework/app-domains/application-domains.md).</span><span class="sxs-lookup"><span data-stu-id="ce84e-114">(Application domains are not available on .NET Core.) For more information, see the [Application domains and threads](../../framework/app-domains/application-domains.md#application-domains-and-threads) section of the [Application domains](../../framework/app-domains/application-domains.md) article.</span></span>

<span data-ttu-id="ce84e-115">Par défaut, un programme .NET est démarré avec un thread unique, souvent appelé thread *principal*.</span><span class="sxs-lookup"><span data-stu-id="ce84e-115">By default, a .NET program is started with a single thread, often called the *primary* thread.</span></span> <span data-ttu-id="ce84e-116">Toutefois, il peut créer des threads supplémentaires pour exécuter du code en parallèle ou en même temps que le thread principal.</span><span class="sxs-lookup"><span data-stu-id="ce84e-116">However, it can create additional threads to execute code in parallel or concurrently with the primary thread.</span></span> <span data-ttu-id="ce84e-117">Ces threads sont souvent appelés threads *de travail*.</span><span class="sxs-lookup"><span data-stu-id="ce84e-117">These threads are often called *worker* threads.</span></span>

## <a name="when-to-use-multiple-threads"></a><span data-ttu-id="ce84e-118">Quand utiliser plusieurs threads</span><span class="sxs-lookup"><span data-stu-id="ce84e-118">When to use multiple threads</span></span>

<span data-ttu-id="ce84e-119">Vous pouvez utiliser plusieurs threads pour accélérer la réactivité de votre application et tirer parti d’un système multiprocesseur ou multicœur pour accélérer son débit.</span><span class="sxs-lookup"><span data-stu-id="ce84e-119">You use multiple threads to increase the responsiveness of your application and to take advantage of a multiprocessor or multi-core system to increase the application's throughput.</span></span>

<span data-ttu-id="ce84e-120">Imaginez une application de bureau dans laquelle le thread principal est responsable des éléments d’interface utilisateur et répond aux actions des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="ce84e-120">Consider a desktop application, in which the primary thread is responsible for user interface elements and responds to user actions.</span></span> <span data-ttu-id="ce84e-121">Utilisez des threads de travail pour effectuer des opérations longues qui, sinon, occuperaient le thread principal et rendraient l’interface utilisateur non réactive.</span><span class="sxs-lookup"><span data-stu-id="ce84e-121">Use worker threads to perform time-consuming operations that, otherwise, would occupy the primary thread and make the user interface non-responsive.</span></span> <span data-ttu-id="ce84e-122">Vous pouvez aussi utiliser un thread dédié pour que la communication réseau ou des appareils soit plus réactive aux messages ou événements entrants.</span><span class="sxs-lookup"><span data-stu-id="ce84e-122">You also can use a dedicated thread for network or device communication to be more responsive to incoming messages or events.</span></span>

<span data-ttu-id="ce84e-123">Si votre programme procède à des opérations pouvant être effectuées en parallèle, la durée totale d’exécution peut être raccourcie en effectuant ces opérations dans des threads distincts et en exécutant le programme sur un système multiprocesseur ou multicœur.</span><span class="sxs-lookup"><span data-stu-id="ce84e-123">If your program performs operations that can be done in parallel, the total execution time can be decreased by performing those operations in separate threads and running the program on a multiprocessor or multi-core system.</span></span> <span data-ttu-id="ce84e-124">Sur un tel système, l’utilisation du multithreading peut accélérer le débit et la réactivité.</span><span class="sxs-lookup"><span data-stu-id="ce84e-124">On such a system, use of multithreading might increase throughput along with the increased responsiveness.</span></span>

## <a name="how-to-use-multithreading-in-net"></a><span data-ttu-id="ce84e-125">Comment utiliser le multithreading dans .NET</span><span class="sxs-lookup"><span data-stu-id="ce84e-125">How to use multithreading in .NET</span></span>

<span data-ttu-id="ce84e-126">À compter de .NET Framework 4, la méthode recommandée pour utiliser le multithreading consiste à utiliser la [bibliothèque parallèle de tâches (TPL)](../parallel-programming/task-parallel-library-tpl.md) et [Parallel LINQ (PLINQ)](../parallel-programming/parallel-linq-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="ce84e-126">Starting with the .NET Framework 4, the recommended way to utilize multithreading is to use [Task Parallel Library (TPL)](../parallel-programming/task-parallel-library-tpl.md) and [Parallel LINQ (PLINQ)](../parallel-programming/parallel-linq-plinq.md).</span></span> <span data-ttu-id="ce84e-127">Pour plus d’informations, consultez [Programmation parallèle](../parallel-programming/index.md).</span><span class="sxs-lookup"><span data-stu-id="ce84e-127">For more information, see [Parallel programming](../parallel-programming/index.md).</span></span>

<span data-ttu-id="ce84e-128">La bibliothèque TPL et PLINQ reposent sur les threads <xref:System.Threading.ThreadPool>.</span><span class="sxs-lookup"><span data-stu-id="ce84e-128">Both TPL and PLINQ rely on the <xref:System.Threading.ThreadPool> threads.</span></span> <span data-ttu-id="ce84e-129">La classe <xref:System.Threading.ThreadPool?displayProperty=nameWithType> fournit une application .NET avec un pool de threads de travail.</span><span class="sxs-lookup"><span data-stu-id="ce84e-129">The <xref:System.Threading.ThreadPool?displayProperty=nameWithType> class provides a .NET application with a pool of worker threads.</span></span> <span data-ttu-id="ce84e-130">Vous pouvez aussi utiliser des threads de pool de threads.</span><span class="sxs-lookup"><span data-stu-id="ce84e-130">You also can use thread pool threads.</span></span> <span data-ttu-id="ce84e-131">Pour plus d’informations, consultez [Pool de threads managé](the-managed-thread-pool.md).</span><span class="sxs-lookup"><span data-stu-id="ce84e-131">For more information, see [The managed thread pool](the-managed-thread-pool.md).</span></span>

<span data-ttu-id="ce84e-132">Enfin, vous pouvez utiliser la classe <xref:System.Threading.Thread?displayProperty=nameWithType> qui représente un thread managé.</span><span class="sxs-lookup"><span data-stu-id="ce84e-132">At last, you can use the <xref:System.Threading.Thread?displayProperty=nameWithType> class that represents a managed thread.</span></span> <span data-ttu-id="ce84e-133">Pour plus d’informations, consultez [Utilisation de threads et de threading](using-threads-and-threading.md).</span><span class="sxs-lookup"><span data-stu-id="ce84e-133">For more information, see [Using threads and threading](using-threads-and-threading.md).</span></span>

<span data-ttu-id="ce84e-134">Plusieurs threads peuvent avoir besoin d’accéder à une ressource partagée.</span><span class="sxs-lookup"><span data-stu-id="ce84e-134">Multiple threads might need to access a shared resource.</span></span> <span data-ttu-id="ce84e-135">Pour garder la ressource dans un état non endommagé et éviter des conditions de concurrence, vous devez synchroniser l’accès des threads à cette ressource.</span><span class="sxs-lookup"><span data-stu-id="ce84e-135">To keep the resource in a uncorrupted state and avoid race conditions, you must synchronize the thread access to it.</span></span> <span data-ttu-id="ce84e-136">Vous voudrez peut-être aussi coordonner l’interaction de plusieurs threads.</span><span class="sxs-lookup"><span data-stu-id="ce84e-136">You also might want to coordinate the interaction of multiple threads.</span></span> <span data-ttu-id="ce84e-137">.NET fournit un éventail de types que vous pouvez utiliser pour synchroniser l’accès à une ressource partagée ou coordonner l’interaction des threads.</span><span class="sxs-lookup"><span data-stu-id="ce84e-137">.NET provides a range of types that you can use to synchronize access to a shared resource or coordinate thread interaction.</span></span> <span data-ttu-id="ce84e-138">Pour plus d’informations, consultez [Vue d’ensemble des primitives de synchronisation](overview-of-synchronization-primitives.md).</span><span class="sxs-lookup"><span data-stu-id="ce84e-138">For more information, see [Overview of synchronization primitives](overview-of-synchronization-primitives.md).</span></span>

<span data-ttu-id="ce84e-139">Ne gérez pas les exceptions dans les threads.</span><span class="sxs-lookup"><span data-stu-id="ce84e-139">Do handle exceptions in threads.</span></span> <span data-ttu-id="ce84e-140">Les exceptions non gérées dans les threads entraînent généralement la fin du processus.</span><span class="sxs-lookup"><span data-stu-id="ce84e-140">Unhandled exceptions in threads generally terminate the process.</span></span> <span data-ttu-id="ce84e-141">Pour plus d’informations, consultez [Exceptions dans les threads managés](exceptions-in-managed-threads.md).</span><span class="sxs-lookup"><span data-stu-id="ce84e-141">For more information, see [Exceptions in managed threads](exceptions-in-managed-threads.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="ce84e-142">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ce84e-142">See also</span></span>

- [<span data-ttu-id="ce84e-143">Fonctionnalités et objets de threading</span><span class="sxs-lookup"><span data-stu-id="ce84e-143">Threading objects and features</span></span>](threading-objects-and-features.md)
- [<span data-ttu-id="ce84e-144">Bonnes pratiques de threading managé</span><span class="sxs-lookup"><span data-stu-id="ce84e-144">Managed threading best practices</span></span>](managed-threading-best-practices.md)
- [<span data-ttu-id="ce84e-145">Traitement parallèle, accès concurrentiel et programmation asynchrone dans .NET</span><span class="sxs-lookup"><span data-stu-id="ce84e-145">Parallel Processing, Concurrency, and Async Programming in .NET</span></span>](../parallel-processing-and-concurrency.md)
- [<span data-ttu-id="ce84e-146">À propos des processus et des threads</span><span class="sxs-lookup"><span data-stu-id="ce84e-146">About Processes and Threads</span></span>](/windows/desktop/procthread/about-processes-and-threads)
