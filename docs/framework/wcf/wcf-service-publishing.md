---
title: Publication du service WCF
ms.date: 03/30/2017
ms.assetid: c806b253-cd47-4b96-b831-e73cbf08808f
ms.openlocfilehash: b62b2616233eb81e64945e997a2efe17973dedd2
ms.sourcegitcommit: 3ab9254890a52a50762995fa6d7d77a00348db7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2018
ms.locfileid: "46481804"
---
# <a name="wcf-service-publishing"></a><span data-ttu-id="2c5ac-102">Publication du service WCF</span><span class="sxs-lookup"><span data-stu-id="2c5ac-102">WCF Service Publishing</span></span>

<span data-ttu-id="2c5ac-103">Publication de Service Windows Communication Foundation (WCF) vous aide à la progression de l’environnement de développement anticipée fourni par l’hôte de Service WCF et le Client Test WCF à déployer réellement l’application dans un environnement de production à des fins de test.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-103">Windows Communication Foundation (WCF) Service Publishing assists you in progressing from the early development environment provided by WCF Service Host and WCF Test Client to actually deploying the application to a production environment for testing purposes.</span></span> <span data-ttu-id="2c5ac-104">Avant de vous engager à un plan de déploiement final, vous pouvez utiliser publication de Service Windows Communication Foundation (WCF) pour vérifier que votre service WCF s’exécute correctement et est prêt à être publié.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-104">Before you commit to a final deployment plan, you can use Windows Communication Foundation (WCF) Service Publishing to verify that your WCF service performs correctly and is ready to be published.</span></span> <span data-ttu-id="2c5ac-105">Vous pouvez également choisir de déployer vos bibliothèques de service WCF à différents emplacements cibles pour le test.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-105">You can also choose to deploy your WCF service libraries to various target locations for testing.</span></span>

## <a name="supported-services-and-target-locations"></a><span data-ttu-id="2c5ac-106">Services pris en charge et emplacements cibles</span><span class="sxs-lookup"><span data-stu-id="2c5ac-106">Supported Services and Target Locations</span></span>

<span data-ttu-id="2c5ac-107">Publication de Service WCF prend en charge la publication des services WCF créés à partir de l’ensemble des modèles de bibliothèque de service WCF et leurs modèles d’élément correspondants, qui incluent les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="2c5ac-107">WCF Service Publishing supports publishing WCF services created from the set of WCF service library templates, and their corresponding item templates, which include the following:</span></span>

-   <span data-ttu-id="2c5ac-108">Modèle de bibliothèque du Service WCF avec le modèle d’élément.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-108">WCF Service Library template with item template.</span></span>

-   <span data-ttu-id="2c5ac-109">Bibliothèque du service de syndication.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-109">Syndication Service Library.</span></span>

<span data-ttu-id="2c5ac-110">Vous trouverez ces modèles de service en choisissant **fichier** > **nouveau projet** > [**Visual Basic** ou **Visual C#**] > **WCF**.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-110">You can find these service templates by choosing **File** > **New Project** > [**Visual Basic** or **Visual C#**] > **WCF**.</span></span> <span data-ttu-id="2c5ac-111">Pour les autres modèles WCF à cet emplacement (y compris l’Application de Service de Workflow WCF et Application de Service WCF), vous pouvez publier à l’aide de [de publication pour les applications web à un clic](https://msdn.microsoft.com/library/dd465337\(v=vs.110\).aspx).</span><span class="sxs-lookup"><span data-stu-id="2c5ac-111">For other WCF templates in this location (including WCF Workflow Service Application and WCF Service Application), you can publish using [One-Click publishing for web applications](https://msdn.microsoft.com/library/dd465337\(v=vs.110\).aspx).</span></span>

<span data-ttu-id="2c5ac-112">Le service peut être publié aux emplacements cibles suivants.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-112">The service can be published to the following target locations.</span></span>

-   <span data-ttu-id="2c5ac-113">IIS local</span><span class="sxs-lookup"><span data-stu-id="2c5ac-113">Local IIS.</span></span>

-   <span data-ttu-id="2c5ac-114">Système de fichiers</span><span class="sxs-lookup"><span data-stu-id="2c5ac-114">File System.</span></span>

-   <span data-ttu-id="2c5ac-115">Site FTP</span><span class="sxs-lookup"><span data-stu-id="2c5ac-115">FTP Site.</span></span>

## <a name="using-wcf-service-publishing"></a><span data-ttu-id="2c5ac-116">Utilisation de la publication de service WCF</span><span class="sxs-lookup"><span data-stu-id="2c5ac-116">Using WCF Service Publishing</span></span>

<span data-ttu-id="2c5ac-117">Pour déployer une implémentation de service, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="2c5ac-117">Perform the following steps to deploy a service implementation:</span></span>

1.  <span data-ttu-id="2c5ac-118">Ouvrez Visual Studio avec des privilèges élevés (cliquez sur le fichier exécutable et choisissez **exécuter en tant qu’administrateur** pour l’ouvrir).</span><span class="sxs-lookup"><span data-stu-id="2c5ac-118">Open Visual Studio with elevated privileges (right-click the executable and choose **Run as administrator** to open it).</span></span>  <span data-ttu-id="2c5ac-119">Si vous utilisez IIS 7.0 ou version ultérieure, assurez-vous que vous avez installé le composant « La métabase et IIS6 Configuration compatibilité IIS » à l’aide de « Windows d’activer ou désactiver des fonctionnalités » dans le panneau de configuration.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-119">If you are using IIS 7.0 or later, ensure that you have installed the "IIS Metabase and IIS6 Configuration Compatibility" component using "Turn Windows features on or off" in Control Panel.</span></span>

2.  <span data-ttu-id="2c5ac-120">Ouvrez un projet de service, sélectionnez **Build** > **publier \<nom_projet >** dans le menu principal, ou cliquez sur le projet dans **l’Explorateur de solutions**et cliquez sur **publier**.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-120">Open a service project, select **Build** > **Publish \<Project Name>** from the main menu, or right-click the project in **Solution Explorer** and click **Publish**.</span></span>

3.  <span data-ttu-id="2c5ac-121">Le **publier** fenêtre s’affiche.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-121">The **Publish** window appears.</span></span> <span data-ttu-id="2c5ac-122">Cliquez sur le **...** .</span><span class="sxs-lookup"><span data-stu-id="2c5ac-122">Click the **…**.</span></span> <span data-ttu-id="2c5ac-123">pour spécifier l'emplacement cible où doit être déployé le service.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-123">button to specify the target location that the service should be deployed to.</span></span> <span data-ttu-id="2c5ac-124">Vous pouvez sélectionner pour déployer l’application à local IIS, un système de fichiers ou un FTP Site.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-124">You can select to deploy the application to local IIS, File System, or FTP Site.</span></span> <span data-ttu-id="2c5ac-125">Si vous déployez l’application sur l’IIS local, vous pouvez sélectionner votre site Web et créez votre application web en cours, en cliquant sur le **créer une Application Web** icône dans l’angle supérieur droit.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-125">If deploying the application to local IIS, you can select your website and create your web application under it, by clicking the **Create New Web Application** icon at the top right corner.</span></span>

4.  <span data-ttu-id="2c5ac-126">Après avoir cliqué sur **publier** dans la fenêtre principale, Visual Studio déploie l’application à l’emplacement cible indiqué et copie les fichiers Web.config, .svc et l’assembly dans le répertoire cible.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-126">After you click **Publish** in the main window, Visual Studio deploys the application to the specified target location and copies the Web.config, .svc, and assembly files to the target directory.</span></span> <span data-ttu-id="2c5ac-127">.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-127">.</span></span> <span data-ttu-id="2c5ac-128">Le nom du fichier .svc sera « ProjectName.ServiceName.svc ».</span><span class="sxs-lookup"><span data-stu-id="2c5ac-128">The name of .svc will be "ProjectName.ServiceName.svc".</span></span> <span data-ttu-id="2c5ac-129">Une fois que le service est publié avec succès, vous trouverez un lien est disponible dans la fenêtre Sortie de Visual Studio, qui est similaire à « Connexion à un lien hypertexte » http://localhost/WebApplicationFolderName« http://localhost/WebApplicationFolderName ... ».</span><span class="sxs-lookup"><span data-stu-id="2c5ac-129">After the service is published successfully, you can find a hotlink in the Visual Studio Output window, which looks similar to "Connecting to  HYPERLINK "http://localhost/WebApplicationFolderName" http://localhost/WebApplicationFolderName ...".</span></span> <span data-ttu-id="2c5ac-130">Vous pouvez appuyer sur Ctrl et cliquer sur le lien pour ouvrir une page du navigateur dans Visual Studio afin d'afficher la structure des répertoires du service.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-130">You can press CTRL and click the link to open a browser page inside Visual Studio to view the service directory structure.</span></span>

     <span data-ttu-id="2c5ac-131">S'il est impossible de visiter le site, l'explorateur de répertoires n'est peut-être pas activé dans IIS.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-131">If you cannot browse to the site, it may because directory browser is not enabled in IIS.</span></span> <span data-ttu-id="2c5ac-132">Suivez les conseils fournis dans la section « Choses à essayer » pour l’activer.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-132">Please follow the tips in the "Things you can try" section to enable it.</span></span> <span data-ttu-id="2c5ac-133">Ou bien, vous pouvez aussi taper directement » lien hypertexte « http://localhost/WebApplicationFolderName« http://localhost/WebApplicationFolderName/ProjectName.ServiceName.svc« pour afficher la page de votre service.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-133">Alternatively, you can directly type" HYPERLINK "http://localhost/WebApplicationFolderName" http://localhost/WebApplicationFolderName/ProjectName.ServiceName.svc" to view your service page.</span></span>

<span data-ttu-id="2c5ac-134">Vous pouvez utiliser **publier** pour spécifier si vous souhaitez copier l’assembly, la configuration et le fichier .svc pour tous les services définis dans le projet à l’emplacement cible et remplacer les fichiers existants dans la destination.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-134">You can use **Publish** to specify if you want to copy the assembly, configuration, and .svc file for all services defined in the project to the target location, and overwrite existing files at the destination.</span></span>

<span data-ttu-id="2c5ac-135">Si vous choisissez de déployer votre application sur le serveur IIS local, vous pouvez rencontrer des erreurs liées à l'installation d'IIS.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-135">If you choose to deploy your application to local IIS, you may encounter errors related to IIS setup.</span></span> <span data-ttu-id="2c5ac-136">Vérifiez que IIS est installé correctement.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-136">Please ensure that IIS is installed properly.</span></span> <span data-ttu-id="2c5ac-137">Vous pouvez entrer `http://localhost` dans la barre d’adresse et la vérification de votre navigateur si la page IIS par défaut affiche.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-137">You can enter `http://localhost` in your browser's address bar and check whether the IIS default page displays.</span></span> <span data-ttu-id="2c5ac-138">Dans certains cas, les problèmes peuvent également provenir d’un enregistrement incorrect d’ASP.NET ou WCF dans IIS.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-138">In some cases, the issues may also be caused by improper registration of ASP.NET or WCF in IIS.</span></span> <span data-ttu-id="2c5ac-139">Vous pouvez ouvrir l’invite de commandes développeur pour Visual Studio et exécutez la commande `aspnet_regiis.exe -ir` à résoudre les problèmes de l’inscription d’ASP.NET, ou exécutez la commande `ServiceModelReg.exe –ia` pour résoudre les problèmes d’inscription WCF.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-139">You can open the Developer Command Prompt for Visual Studio and run the command `aspnet_regiis.exe -ir` to fix ASP.NET registration issues, or run command `ServiceModelReg.exe –ia` to fix WCF registration issues.</span></span>

## <a name="files-generated-for-publishing"></a><span data-ttu-id="2c5ac-140">Fichiers générés en vue de leur publication</span><span class="sxs-lookup"><span data-stu-id="2c5ac-140">Files Generated for Publishing</span></span>
 <span data-ttu-id="2c5ac-141">Avant d’une bibliothèque de service WCF peut être hébergé sur le Web, les fichiers suivants sont générés par l’outil : fichiers d’assembly, fichier Web.config et fichier .svc.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-141">Before a WCF service library can be Web-hosted, the following files are generated by the tool: assembly files, Web.config file, and .svc file.</span></span> <span data-ttu-id="2c5ac-142">Tous les fichiers sont copiés à l'emplacement cible.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-142">All the files are copied to the target location.</span></span> <span data-ttu-id="2c5ac-143">Le service est ensuite publié.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-143">The service is then published.</span></span>

### <a name="assembly-files"></a><span data-ttu-id="2c5ac-144">Fichiers d'assembly</span><span class="sxs-lookup"><span data-stu-id="2c5ac-144">Assembly files</span></span>
 <span data-ttu-id="2c5ac-145">Lorsque vous publiez un service WCF à l’aide de cet outil, le service est automatiquement créé en premier et les fichiers d’assembly sont générés dans le projet de service après la génération.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-145">When you publish a WCF service using this tool, the service is automatically built first and the assembly files are generated in the service project after building.</span></span>

### <a name="svc-file"></a><span data-ttu-id="2c5ac-146">Fichier .SVC</span><span class="sxs-lookup"><span data-stu-id="2c5ac-146">.SVC File</span></span>
 <span data-ttu-id="2c5ac-147">L’opération de publication génère un fichier \*.svc pour chaque service WCF, si le fichier existe ou non, pour garantir la validité de la version.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-147">The publishing operation generates a \*.svc file for each WCF service, whether the file exists or not, to ensure version validity.</span></span> <span data-ttu-id="2c5ac-148">Il existe deux types de fichiers svc différents : un pour la bibliothèque du Service WCF et de la bibliothèque de Service de Syndication et une autre pour séquentiel et de la bibliothèque de Service de flux de travail de Machine état.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-148">There are two different kinds of svc files: one for WCF Service Library and Syndication Service Library, and another one for Sequential and State Machine Workflow Service Library.</span></span> <span data-ttu-id="2c5ac-149">Le texte généré \*fichier .svc est copié dans le dossier racine dans l’emplacement cible.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-149">The generated \*.svc file is copied to the root folder in the target location.</span></span>

### <a name="webconfig-file"></a><span data-ttu-id="2c5ac-150">Fichier Web.config</span><span class="sxs-lookup"><span data-stu-id="2c5ac-150">Web.config File</span></span>
 <span data-ttu-id="2c5ac-151">Chaque fois qu'un projet de service est publié à un emplacement cible spécifique, un fichier Web.config est créé.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-151">Each time a service project is published to a specific target location, a Web.config file is created.</span></span>

 <span data-ttu-id="2c5ac-152">Le fichier Web.config généré contient des sections Web qui sont utiles pour l’hébergement Web et le contenu du fichier App.config pour la bibliothèque de service WCF avec les modifications suivantes :</span><span class="sxs-lookup"><span data-stu-id="2c5ac-152">The generated Web.config file includes Web sections that are useful for Web hosting, and the content of App.config for the WCF service library with the following changes:</span></span>

-   <span data-ttu-id="2c5ac-153">L'adresse de base est exclue.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-153">The base address is excluded.</span></span>

-   <span data-ttu-id="2c5ac-154">Les paramètres dans l'élément `<diagnostics>` sont exclus pour préserver les paramètres de suivi de la plateforme cible.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-154">Settings in the `<diagnostics>` element are excluded to preserve the tracing settings of the target platform.</span></span>

## <a name="publishing-wcf-services-with-non-http-bindings-to-iis"></a><span data-ttu-id="2c5ac-155">Publication sur IIS de services WCF avec des liaisons non-HTTP</span><span class="sxs-lookup"><span data-stu-id="2c5ac-155">Publishing WCF services with non-HTTP Bindings to IIS</span></span>
 <span data-ttu-id="2c5ac-156">Si vous utilisez IIS 7.0 ou une version ultérieure, vous pouvez publier des services WCF avec des liaisons non-HTTP à IIS.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-156">If you are using IIS7.0 or later, you can publish WCF services with non-HTTP bindings to IIS.</span></span> <span data-ttu-id="2c5ac-157">Vous devez effectuer plusieurs tâches de préconfiguration.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-157">You need to do some pre-configurations.</span></span> <span data-ttu-id="2c5ac-158">Pour plus d’informations, consultez les rubriques à [hébergement dans Windows Process Activation Service](../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md).</span><span class="sxs-lookup"><span data-stu-id="2c5ac-158">For more information, please see the topics at  [Hosting in Windows Process Activation Service](../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md).</span></span>

## <a name="security"></a><span data-ttu-id="2c5ac-159">Sécurité</span><span class="sxs-lookup"><span data-stu-id="2c5ac-159">Security</span></span>
 <span data-ttu-id="2c5ac-160">La publication sur le serveur IIS local requiert des privilèges d'administrateur car IIS doit être exécuté sous un compte Administrateur.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-160">Publishing to local IIS requires administrator privilege, because IIS requires running in Administrator account.</span></span> <span data-ttu-id="2c5ac-161">Si un utilisateur sans privilège d’administrateur ouvre la publication de Service WCF, IIS n’est pas disponible en tant qu’un emplacement cible.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-161">If a user without administrator privilege opens WCF Service Publishing, IIS is not available as a target location.</span></span> <span data-ttu-id="2c5ac-162">Publication sur le système de fichiers, ou le FTP Site fonctionne sans privilège d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="2c5ac-162">Publishing to File System, or FTP Site works without administrator privilege.</span></span>

## <a name="see-also"></a><span data-ttu-id="2c5ac-163">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2c5ac-163">See Also</span></span>

- [<span data-ttu-id="2c5ac-164">Modèles Visual Studio WCF</span><span class="sxs-lookup"><span data-stu-id="2c5ac-164">WCF Visual Studio Templates</span></span>](../../../docs/framework/wcf/wcf-vs-templates.md)
- [<span data-ttu-id="2c5ac-165">WCF Service Host (WcfSvcHost.exe)</span><span class="sxs-lookup"><span data-stu-id="2c5ac-165">WCF Service Host (WcfSvcHost.exe)</span></span>](../../../docs/framework/wcf/wcf-service-host-wcfsvchost-exe.md)
- [<span data-ttu-id="2c5ac-166">Client test WCF (WcfTestClient.exe)</span><span class="sxs-lookup"><span data-stu-id="2c5ac-166">WCF Test Client (WcfTestClient.exe)</span></span>](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)