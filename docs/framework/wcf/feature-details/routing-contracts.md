---
title: Contrats de routage
ms.date: 03/30/2017
ms.assetid: 9ceea7ae-ea19-4cf9-ba4f-d071e236546d
ms.openlocfilehash: 660652caa804b8c19f6dd18bcba51bf4abc3ba12
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59145351"
---
# <a name="routing-contracts"></a><span data-ttu-id="a815d-102">Contrats de routage</span><span class="sxs-lookup"><span data-stu-id="a815d-102">Routing Contracts</span></span>
<span data-ttu-id="a815d-103">Les contrats de routage définissent les modèles de messages que le service de routage peut traiter.</span><span class="sxs-lookup"><span data-stu-id="a815d-103">Routing contracts define the message patterns that the Routing Service can process.</span></span>  <span data-ttu-id="a815d-104">Chaque contrat est sans type et permet au service de recevoir un message sans connaissance du schéma ni de l'action du message.</span><span class="sxs-lookup"><span data-stu-id="a815d-104">Each contract is typeless and allows the service to receive a message without knowledge of the message schema or action.</span></span> <span data-ttu-id="a815d-105">Cela permet au service de routage de router des messages de manière générique, sans configuration supplémentaire pour les caractéristiques sous-jacentes des messages routés.</span><span class="sxs-lookup"><span data-stu-id="a815d-105">This allows the Routing Service to generically route messages without additional configuration for the specifics of the underlying messages being routed.</span></span>  
  
## <a name="routing-contracts"></a><span data-ttu-id="a815d-106">Contrats de routage</span><span class="sxs-lookup"><span data-stu-id="a815d-106">Routing Contracts</span></span>  
 <span data-ttu-id="a815d-107">Puisque le service de routage accepte un objet Message WCF générique, le plus important lorsque vous sélectionnez un contrat est de prendre en compte la forme du canal utilisé lors de la communication avec les clients et les services.</span><span class="sxs-lookup"><span data-stu-id="a815d-107">Because the Routing Service accepts a generic WCF Message object, the most important consideration when selecting a contract is the shape of the channel that will be used when communicating with the clients and services.</span></span> <span data-ttu-id="a815d-108">Lors du traitement des messages, le service de routage utilise des pompes de messages symétriques, en conséquence, la forme du contrat entrant doit généralement correspondre à la forme du contrat sortant.</span><span class="sxs-lookup"><span data-stu-id="a815d-108">When processing messages, the Routing Service uses symmetrical message pumps, so generally the shape of the inbound contract must match the shape of the outbound contract.</span></span> <span data-ttu-id="a815d-109">Toutefois, il existe des cas où les répartiteur du modèle de Service peuvent modifier les formes, telles que lorsque le répartiteur convertit un canal duplex dans un canal de demande-réponse, ou supprime la prise en charge de la session à partir d’un canal lorsqu’il n’est pas obligatoire et n’est pas utilisé (autrement dit Lorsque **SessionMode.Allowed**, la conversion une **IInputSessionChannel** dans un **IInputChannel**).</span><span class="sxs-lookup"><span data-stu-id="a815d-109">However, there are cases where the Service Model’s dispatcher can modify the shapes, such as when the dispatcher converts a duplex channel into a request-reply channel, or removes the session support from a channel when it is not required and is not being used (that is, when **SessionMode.Allowed**, converting an **IInputSessionChannel** into an **IInputChannel**).</span></span>  
  
 <span data-ttu-id="a815d-110">Pour prendre en charge ces pompes de messages, le service de routage fournit des contrats dans l'espace de noms <xref:System.ServiceModel.Routing>, qui doivent être utilisés lors de la définition des points de terminaison de service utilisés par le service de routage.</span><span class="sxs-lookup"><span data-stu-id="a815d-110">To support these message pumps, the Routing Service provides contracts in the <xref:System.ServiceModel.Routing> namespace, which must be used when defining the service endpoints used by the Routing Service.</span></span> <span data-ttu-id="a815d-111">Ces contrats sont sans type, ce qui autorise la réception de tout type ou action de message et permet au service de routage de gérer des messages sans connaître le schéma de message spécifique.</span><span class="sxs-lookup"><span data-stu-id="a815d-111">These contracts are typeless, which allows the receipt of any message type or action, and allows the Routing Service to handle messages without knowledge of the specific message schema.</span></span> <span data-ttu-id="a815d-112">Pour plus d’informations sur les contrats utilisés par le Service de routage, consultez [contrats de routage](../../../../docs/framework/wcf/feature-details/routing-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="a815d-112">For more information about the contracts used by the Routing Service, see [Routing Contracts](../../../../docs/framework/wcf/feature-details/routing-contracts.md).</span></span>  
  
 <span data-ttu-id="a815d-113">Les contrats fournis par le service de routage se trouvent dans l'espace de noms <xref:System.ServiceModel.Routing> et sont décrits dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="a815d-113">The contracts provided by the Routing Service are located in the <xref:System.ServiceModel.Routing> namespace, and are described in the following table.</span></span>  
  
|<span data-ttu-id="a815d-114">Contrat</span><span class="sxs-lookup"><span data-stu-id="a815d-114">Contract</span></span>|<span data-ttu-id="a815d-115">Forme</span><span class="sxs-lookup"><span data-stu-id="a815d-115">Shape</span></span>|<span data-ttu-id="a815d-116">Forme de canal</span><span class="sxs-lookup"><span data-stu-id="a815d-116">Channel Shape</span></span>|  
|--------------|-----------|-------------------|  
|<xref:System.ServiceModel.Routing.ISimplexDatagramRouter>|<span data-ttu-id="a815d-117">SessionMode = SessionMode.Allowed</span><span class="sxs-lookup"><span data-stu-id="a815d-117">SessionMode = SessionMode.Allowed</span></span><br /><br /> <span data-ttu-id="a815d-118">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="a815d-118">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="a815d-119">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="a815d-119">IsOneWay = true</span></span>|<span data-ttu-id="a815d-120">IInputChannel -> IOutputChannel</span><span class="sxs-lookup"><span data-stu-id="a815d-120">IInputChannel -> IOutputChannel</span></span>|  
|<xref:System.ServiceModel.Routing.ISimplexSessionRouter>|<span data-ttu-id="a815d-121">SessionMode = SessionMode.Required</span><span class="sxs-lookup"><span data-stu-id="a815d-121">SessionMode = SessionMode.Required</span></span><br /><br /> <span data-ttu-id="a815d-122">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="a815d-122">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="a815d-123">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="a815d-123">IsOneWay = true</span></span>|<span data-ttu-id="a815d-124">IInputSessionChannel -> IOutputSessionChannel</span><span class="sxs-lookup"><span data-stu-id="a815d-124">IInputSessionChannel -> IOutputSessionChannel</span></span>|  
|<xref:System.ServiceModel.Routing.IRequestReplyRouter>|<span data-ttu-id="a815d-125">SessionMode = SessionMode.Allowed</span><span class="sxs-lookup"><span data-stu-id="a815d-125">SessionMode = SessionMode.Allowed</span></span><br /><br /> <span data-ttu-id="a815d-126">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="a815d-126">AsyncPattern = true</span></span>|<span data-ttu-id="a815d-127">IReplyChannel -> IRequestChannel</span><span class="sxs-lookup"><span data-stu-id="a815d-127">IReplyChannel -> IRequestChannel</span></span>|  
|<xref:System.ServiceModel.Routing.IDuplexSessionRouter>|<span data-ttu-id="a815d-128">SessionMode=SessionMode.Required</span><span class="sxs-lookup"><span data-stu-id="a815d-128">SessionMode=SessionMode.Required</span></span><br /><br /> <span data-ttu-id="a815d-129">CallbackContract=typeof(ISimplexSession)</span><span class="sxs-lookup"><span data-stu-id="a815d-129">CallbackContract=typeof(ISimplexSession)</span></span><br /><br /> <span data-ttu-id="a815d-130">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="a815d-130">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="a815d-131">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="a815d-131">IsOneWay = true</span></span><br /><br /> <span data-ttu-id="a815d-132">TransactionFlow(TransactionFlowOption.Allowed)</span><span class="sxs-lookup"><span data-stu-id="a815d-132">TransactionFlow(TransactionFlowOption.Allowed)</span></span>|<span data-ttu-id="a815d-133">IDuplexSessionChannel -> IDuplexSessionChannel</span><span class="sxs-lookup"><span data-stu-id="a815d-133">IDuplexSessionChannel -> IDuplexSessionChannel</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="a815d-134">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a815d-134">See also</span></span>

- [<span data-ttu-id="a815d-135">Service de routage</span><span class="sxs-lookup"><span data-stu-id="a815d-135">Routing Service</span></span>](../../../../docs/framework/wcf/feature-details/routing-service.md)
- [<span data-ttu-id="a815d-136">Introduction au routage</span><span class="sxs-lookup"><span data-stu-id="a815d-136">Routing Introduction</span></span>](../../../../docs/framework/wcf/feature-details/routing-introduction.md)
