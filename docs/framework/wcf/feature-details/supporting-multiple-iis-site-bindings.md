---
title: Prise en charge de plusieurs liaisons de site IIS
ms.date: 03/30/2017
ms.assetid: 40440495-254d-45c8-a8c6-b29f364892ba
ms.openlocfilehash: 5a8b06d86b505452f9ded808f727343b1453e592
ms.sourcegitcommit: 586dbdcaef9767642436b1e4efbe88fb15473d6f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2018
ms.locfileid: "48840862"
---
# <a name="supporting-multiple-iis-site-bindings"></a><span data-ttu-id="3f0d7-102">Prise en charge de plusieurs liaisons de site IIS</span><span class="sxs-lookup"><span data-stu-id="3f0d7-102">Supporting Multiple IIS Site Bindings</span></span>
<span data-ttu-id="3f0d7-103">Lorsque vous hébergez un service Windows Communication Foundation (WCF) sous Internet Information Services (IIS) 7.0, vous souhaiterez fournir plusieurs adresses de base qui utilisent le même protocole sur le même site.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-103">When hosting a Windows Communication Foundation (WCF) service under Internet Information Services (IIS) 7.0, you may want to provide multiple base addresses that use the same protocol on the same site.</span></span> <span data-ttu-id="3f0d7-104">Cela permet au même service de répondre à plusieurs URI différents.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-104">This allows the same service to respond to a number of different URIs.</span></span> <span data-ttu-id="3f0d7-105">Cela est utile lorsque vous souhaitez héberger un service qui écoute sur `http://www.contoso.com` et `http://contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-105">This is useful when you want to host a service that listens on `http://www.contoso.com` and `http://contoso.com`.</span></span> <span data-ttu-id="3f0d7-106">Il est également utile de créer un service qui a une adresse de base pour les utilisateurs internes et une autre adresse de base pour les utilisateurs externes.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-106">It is also useful to create a service that has a base address for internal users and a separate base address for external users.</span></span> <span data-ttu-id="3f0d7-107">Par exemple : `http://internal.contoso.com` et `http://www.contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-107">For example: `http://internal.contoso.com` and `http://www.contoso.com`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3f0d7-108">Ces fonctionnalités ne sont disponibles qu'en utilisant le protocole HTTP.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-108">This functionality is only available using the HTTP protocol.</span></span>  
  
## <a name="multiple-base-addresses"></a><span data-ttu-id="3f0d7-109">Plusieurs adresses de base</span><span class="sxs-lookup"><span data-stu-id="3f0d7-109">Multiple Base Addresses</span></span>  
 <span data-ttu-id="3f0d7-110">Cette fonctionnalité est uniquement disponible pour les services WCF hébergés sous IIS.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-110">This feature is only available to WCF services that are hosted under IIS.</span></span> <span data-ttu-id="3f0d7-111">Cette fonctionnalité n’est pas activée par défaut.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-111">This feature is not enabled by default.</span></span> <span data-ttu-id="3f0d7-112">Pour l’activer, vous devez ajouter le `multipleSiteBindingsEnabled` d’attribut à la <`serviceHostingEnvironment`> élément dans votre fichier Web.config de fichiers et affectez-lui la valeur `true`, comme illustré dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-112">To enable it you must add the `multipleSiteBindingsEnabled` attribute to the <`serviceHostingEnvironment`> element in your Web.config file and set it to `true`, as shown in the following example.</span></span>  
  
```xml  
<serviceHostingEnvironment multipleSiteBindingsEnabled="true"/>  
```  
  
 <span data-ttu-id="3f0d7-113">Lorsque vous hébergez un service WCF dans IIS, IIS crée une adresse de base en fonction de l’URI vers le répertoire virtuel qui contient l’application.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-113">When hosting a WCF service under IIS, IIS creates one base address for you based on the URI to the virtual directory that contains the application.</span></span> <span data-ttu-id="3f0d7-114">Vous pouvez ajouter des adresses de base supplémentaires utilisant le même protocole, à l’aide du gestionnaire des services IIS pour ajouter une ou plusieurs liaisons à votre site web.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-114">You can add additional base addresses that use the same protocol by using Internet Information Services Manager to add one or more bindings to your Web site.</span></span> <span data-ttu-id="3f0d7-115">Pour chaque liaison, spécifiez un protocole (HTTP ou HTTPS), une adresse IP, un port et un nom d’hôte.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-115">For each binding specify a protocol (HTTP or HTTPS), an IP address, a port, and a host name.</span></span> <span data-ttu-id="3f0d7-116">Pour plus d’informations sur l’utilisation du Gestionnaire des Services Internet, consultez [Gestionnaire des services Internet (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164057).</span><span class="sxs-lookup"><span data-stu-id="3f0d7-116">For more information about using Internet Information Services Manager, see [IIS Manager (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164057).</span></span> <span data-ttu-id="3f0d7-117">Pour plus d’informations sur l’ajout de liaisons à un site, consultez [créer un Site Web (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164060)</span><span class="sxs-lookup"><span data-stu-id="3f0d7-117">For more information about adding bindings to a site, see [Create a Web Site (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164060)</span></span>  
  
 <span data-ttu-id="3f0d7-118">Spécification de plusieurs adresses de base pour le même site affecte le contenu de la page d’aide WCF, importation de schéma et les informations WSDL/MEX générées par le service.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-118">Specifying multiple base addresses for the same site affects the content of the WCF Help page, importing schema, and the WSDL/MEX information generated by the service.</span></span> <span data-ttu-id="3f0d7-119">La page d’aide WCF affiche la ligne de commande à utiliser pour générer un client WCF qui peut communiquer avec le service.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-119">The WCF Help page displays the command line to use to generate a WCF client that can communicate with the service.</span></span> <span data-ttu-id="3f0d7-120">Cette ligne de commande contient uniquement la première adresse spécifiée dans la liaison IIS pour le site web.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-120">This command line contains only the first address specified in the IIS binding for the Web site.</span></span> <span data-ttu-id="3f0d7-121">De même, lors de l'importation du schéma, seule la première adresse de base spécifiée dans la liaison IIS est utilisée.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-121">Similarly when importing schema, only the first base address specified in the IIS binding is used.</span></span> <span data-ttu-id="3f0d7-122">Les données WSDL et MEX contiennent toutes les adresses de base spécifiées dans les liaisons IIS.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-122">WSDL and MEX data contain all the base addresses specified in the IIS bindings.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="3f0d7-123">Cela signifie que si un service possède deux adresses de base, une pour les utilisateurs internes et l'autre pour les utilisateurs externes, les deux sont spécifiées dans les informations WSDL/MEX générées par le service.</span><span class="sxs-lookup"><span data-stu-id="3f0d7-123">This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.</span></span>
