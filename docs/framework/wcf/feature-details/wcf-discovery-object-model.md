---
title: Modèle objet de découverte WCF
ms.date: 03/30/2017
ms.assetid: 8365a152-eacd-4779-9130-bbc48fa5c5d9
ms.openlocfilehash: b337eda40fc70a6d0e7b3aeccfc125e6e6bacf8f
ms.sourcegitcommit: 213292dfbb0c37d83f62709959ff55c50af5560d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/25/2018
ms.locfileid: "47070875"
---
# <a name="wcf-discovery-object-model"></a><span data-ttu-id="20c77-102">Modèle objet de découverte WCF</span><span class="sxs-lookup"><span data-stu-id="20c77-102">WCF Discovery Object Model</span></span>
<span data-ttu-id="20c77-103">La découverte WCF consiste en un jeu de types fournissant un modèle de programmation unifié qui permet de développer des services détectables au moment de l'exécution et des clients qui recherchent et utilisent ces services.</span><span class="sxs-lookup"><span data-stu-id="20c77-103">WCF Discovery consists of a set of types that provide a unified programming model that allows you to write services that are discoverable at runtime and clients that find and use these services.</span></span>  
  
## <a name="making-a-service-discoverable-and-finding-services"></a><span data-ttu-id="20c77-104">Rendre un service détectable et rechercher des services</span><span class="sxs-lookup"><span data-stu-id="20c77-104">Making a Service Discoverable and Finding Services</span></span>  
 <span data-ttu-id="20c77-105">Pour rendre un service WCF détectable, ajoutez un objet <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> à l'objet <xref:System.ServiceModel.Description.ServiceDescription> de l'hôte de service et ajoutez un point de terminaison de découverte.</span><span class="sxs-lookup"><span data-stu-id="20c77-105">To make a WCF service discoverable, add a <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> to the <xref:System.ServiceModel.Description.ServiceDescription> of the service host and add a discovery endpoint.</span></span> <span data-ttu-id="20c77-106">Si un service est configuré pour envoyer des messages d'annonce (en ajoutant un objet <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>) l'annonce est envoyée lors de l'ouverture et de la fermeture de l'hôte de service.</span><span class="sxs-lookup"><span data-stu-id="20c77-106">If a service is configured to send announcement messages (by adding an <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>) the announcement is sent when the service host is opened and closed.</span></span>  
  
 <span data-ttu-id="20c77-107">Un client qui souhaite écouter des messages d'annonce du service héberge un service d'annonce et ajoute un ou plusieurs points de terminaison d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-107">A client that wants to listen for service announcement messages hosts an announcement service and adds one or more announcement endpoints.</span></span> <span data-ttu-id="20c77-108">Le service d'annonce reçoit des messages d'annonce et déclenche des événements d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-108">The announcement service receives announcement messages and raises announcement events.</span></span>  
  
 <span data-ttu-id="20c77-109">Un client utilise la classe <xref:System.ServiceModel.Discovery.DiscoveryClient> pour rechercher des services disponibles.</span><span class="sxs-lookup"><span data-stu-id="20c77-109">A client uses the <xref:System.ServiceModel.Discovery.DiscoveryClient> class to search for available services.</span></span> <span data-ttu-id="20c77-110">L'application cliente instancie la classe <xref:System.ServiceModel.Discovery.DiscoveryClient>, en transmettant un point de terminaison de découverte qui spécifie où envoyer des messages de découverte.</span><span class="sxs-lookup"><span data-stu-id="20c77-110">The client application instantiates the <xref:System.ServiceModel.Discovery.DiscoveryClient> class, passing in a discovery endpoint that specifies where to send discovery messages.</span></span> <span data-ttu-id="20c77-111">Le client appelle la méthode <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A>, qui envoie une demande `Probe`.</span><span class="sxs-lookup"><span data-stu-id="20c77-111">The client calls the <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> method, which sends a `Probe` request.</span></span> <span data-ttu-id="20c77-112">Les services qui écoutent les messages de découverte reçoivent ces demandes `Probe`.</span><span class="sxs-lookup"><span data-stu-id="20c77-112">Services listening for discovery messages receive this `Probe` request.</span></span> <span data-ttu-id="20c77-113">Si le service correspond aux critères spécifiés dans le `Probe`, il renvoie un message `ProbeMatch` au client.</span><span class="sxs-lookup"><span data-stu-id="20c77-113">If the service matches the criteria specified in the `Probe`, it sends a `ProbeMatch` message back to the client.</span></span>  
  
## <a name="object-model"></a><span data-ttu-id="20c77-114">Modèle objet</span><span class="sxs-lookup"><span data-stu-id="20c77-114">Object Model</span></span>  
 <span data-ttu-id="20c77-115">L'API de découverte WCF définit les classes suivantes :</span><span class="sxs-lookup"><span data-stu-id="20c77-115">The WCF Discovery API defines the following classes:</span></span>  
  
-   <xref:System.ServiceModel.Discovery.AnnouncementClient>  
  
-   <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.AnnouncementService>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryClient>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryClientBindingElement>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator>  
  
-   <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryProxy>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryService>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryVersion>  
  
-   <xref:System.ServiceModel.Discovery.DynamicEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior>  
  
-   <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>  
  
-   <xref:System.ServiceModel.Discovery.FindCriteria>  
  
-   <xref:System.ServiceModel.Discovery.FindRequestContext>  
  
-   <xref:System.ServiceModel.Discovery.FindResponse>  
  
-   <xref:System.ServiceModel.Discovery.ResolveCriteria>  
  
-   <xref:System.ServiceModel.Discovery.ResolveResponse>  
  
-   <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>  
 
-   <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>  
  
## <a name="announcementclient"></a><span data-ttu-id="20c77-116">AnnouncementClient</span><span class="sxs-lookup"><span data-stu-id="20c77-116">AnnouncementClient</span></span>  
 <span data-ttu-id="20c77-117">La classe <xref:System.ServiceModel.Discovery.AnnouncementClient> fournit des méthodes synchrones et asynchrones pour l'envoi de messages d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-117">The <xref:System.ServiceModel.Discovery.AnnouncementClient> class provides synchronous and asynchronous methods for sending announcement messages.</span></span> <span data-ttu-id="20c77-118">Il existe deux types de messages d'annonce, Hello et Bye.</span><span class="sxs-lookup"><span data-stu-id="20c77-118">There are two types of announcement messages, Hello and Bye.</span></span> <span data-ttu-id="20c77-119">Un message de type Hello est envoyé pour indiquer qu'un service est devenu disponible et un message de type Bye est envoyé pour indiquer qu'un service existant est devenu indisponible.</span><span class="sxs-lookup"><span data-stu-id="20c77-119">A Hello message is sent to indicate that a service has become available and a Bye message is sent to indicate that an existing service has become unavailable.</span></span> <span data-ttu-id="20c77-120">Le développeur crée une instance <xref:System.ServiceModel.Discovery.AnnouncementClient>, en passant une instance de <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> comme paramètre de constructeur.</span><span class="sxs-lookup"><span data-stu-id="20c77-120">The developer creates an <xref:System.ServiceModel.Discovery.AnnouncementClient> instance, passing an instance of <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> as a constructor parameter.</span></span>  
  
## <a name="announcementendpoint"></a><span data-ttu-id="20c77-121">AnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="20c77-121">AnnouncementEndpoint</span></span>  
 <span data-ttu-id="20c77-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> représente un point de terminaison standard avec un contrat d'annonce fixe.</span><span class="sxs-lookup"><span data-stu-id="20c77-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> represents a standard endpoint with a fixed announcement contract.</span></span> <span data-ttu-id="20c77-123">Il est utilisé par un service ou un client pour envoyer et recevoir des messages d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-123">It is used by a service or client to send and receive announcement messages.</span></span> <span data-ttu-id="20c77-124">Par défaut, la classe <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> est définie pour utiliser la version 11 du protocole WS_Discovery.</span><span class="sxs-lookup"><span data-stu-id="20c77-124">By default, the <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> class is set to use the WS_Discovery 11 protocol version.</span></span>  
  
## <a name="announcementservice"></a><span data-ttu-id="20c77-125">AnnouncementService</span><span class="sxs-lookup"><span data-stu-id="20c77-125">AnnouncementService</span></span>  
 <span data-ttu-id="20c77-126"><xref:System.ServiceModel.Discovery.AnnouncementService> est une implémentation fournie par le système d'un service d'annonce qui reçoit et traite des messages d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-126"><xref:System.ServiceModel.Discovery.AnnouncementService> is a system-provided implementation of an announcement service that receives and processes announcement messages.</span></span> <span data-ttu-id="20c77-127">Lors de la réception d'un message de type Hello ou Bye, l'instance <xref:System.ServiceModel.Discovery.AnnouncementService> appelle la méthode virtuelle appropriée <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A> ou <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>, qui déclenche des événements d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-127">When a Hello or Bye message is received, the <xref:System.ServiceModel.Discovery.AnnouncementService> instance calls the appropriate virtual method <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A> or <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>, which raises announcement events.</span></span>  
  
## <a name="discoveryclient"></a><span data-ttu-id="20c77-128">DiscoveryClient</span><span class="sxs-lookup"><span data-stu-id="20c77-128">DiscoveryClient</span></span>  
 <span data-ttu-id="20c77-129">La classe <xref:System.ServiceModel.Discovery.DiscoveryClient> est utilisée par une application cliente pour rechercher et résoudre les services disponibles.</span><span class="sxs-lookup"><span data-stu-id="20c77-129">The <xref:System.ServiceModel.Discovery.DiscoveryClient> class is used by a client application to find and resolve available services.</span></span> <span data-ttu-id="20c77-130">Elle fournit des méthodes synchrone et asynchrones pour la recherche et la résolution de services, en fonction des objets spécifiés <xref:System.ServiceModel.Discovery.FindCriteria> et <xref:System.ServiceModel.Discovery.ResolveCriteria>, respectivement.</span><span class="sxs-lookup"><span data-stu-id="20c77-130">It provides synchronous and asynchronous methods for finding and resolving services based on the specified <xref:System.ServiceModel.Discovery.FindCriteria> and <xref:System.ServiceModel.Discovery.ResolveCriteria> respectively.</span></span> <span data-ttu-id="20c77-131">Le développeur crée une instance <xref:System.ServiceModel.Discovery.DiscoveryClient> et fournit une instance de <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> comme paramètre de constructeur.</span><span class="sxs-lookup"><span data-stu-id="20c77-131">The developer creates a <xref:System.ServiceModel.Discovery.DiscoveryClient> instance and provides an instance of <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> as a constructor parameter.</span></span>  
  
 <span data-ttu-id="20c77-132">Pour rechercher un service, le développeur appelle la méthode `Find` synchrone ou asynchrone, qui fournit une instance <xref:System.ServiceModel.Discovery.FindCriteria> contenant les critères de recherche à utiliser.</span><span class="sxs-lookup"><span data-stu-id="20c77-132">To find a service, the developer invokes the synchronous or asynchronous `Find` method, which provides a <xref:System.ServiceModel.Discovery.FindCriteria> instance that contains the search criteria to use.</span></span> <span data-ttu-id="20c77-133">L'objet <xref:System.ServiceModel.Discovery.DiscoveryClient> crée un message `Probe` avec les en-têtes appropriés et envoie la demande de recherche.</span><span class="sxs-lookup"><span data-stu-id="20c77-133">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates a `Probe` message with the appropriate headers, and sends the find request.</span></span> <span data-ttu-id="20c77-134">Comme il peut y avoir plusieurs demandes `Find` en attente n'importe quand, le client met en corrélation les réponses reçues et valide la réponse.</span><span class="sxs-lookup"><span data-stu-id="20c77-134">Because there can be more than one outstanding `Find` request at any time, the client correlates the received responses and validates the response.</span></span> <span data-ttu-id="20c77-135">Puis il remet les résultats à l'appelant de l'opération `Find`, à l'aide de <xref:System.ServiceModel.Discovery.FindResponse>.</span><span class="sxs-lookup"><span data-stu-id="20c77-135">It then delivers the results to the caller of the `Find` operation using <xref:System.ServiceModel.Discovery.FindResponse>.</span></span>  
  
 <span data-ttu-id="20c77-136">Pour résoudre un service connu, le développeur appelle la méthode `Resolve` synchrone ou asynchrone qui fournit une instance de <xref:System.ServiceModel.Discovery.ResolveCriteria> contenant l' <xref:System.ServiceModel.EndpointAddress> du service connu.</span><span class="sxs-lookup"><span data-stu-id="20c77-136">To resolve a known service, the developer invokes the synchronous or asynchronous `Resolve` method that provides an instance of <xref:System.ServiceModel.Discovery.ResolveCriteria> that contains the <xref:System.ServiceModel.EndpointAddress> of the known service.</span></span> <span data-ttu-id="20c77-137">L'objet <xref:System.ServiceModel.Discovery.DiscoveryClient> crée le message `Resolve` avec les en-têtes appropriés et envoie la demande de résolution.</span><span class="sxs-lookup"><span data-stu-id="20c77-137">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates the `Resolve` message with the appropriate headers and sends the resolve request.</span></span> <span data-ttu-id="20c77-138">La réponse reçue est mise en corrélation par rapport aux demandes de résolution en attente et le résultat est remis à l'appelant de l'opération `Resolve`, à l'aide de l'objet <xref:System.ServiceModel.Discovery.ResolveResponse>.</span><span class="sxs-lookup"><span data-stu-id="20c77-138">The received response is correlated against the outstanding resolve requests and the result is delivered to the caller of the `Resolve` operation using <xref:System.ServiceModel.Discovery.ResolveResponse>.</span></span>  
  
 <span data-ttu-id="20c77-139">Si un proxy de découverte est présent sur le réseau et que le <xref:System.ServiceModel.Discovery.DiscoveryClient> envoie la demande de découverte en mode multidiffusion, le proxy de découverte peut répondre par le message de suppression de multidiffusion de type Hello.</span><span class="sxs-lookup"><span data-stu-id="20c77-139">If a discovery proxy is present on the network and the <xref:System.ServiceModel.Discovery.DiscoveryClient> sends the discovery request in a multicast fashion, the discovery proxy can respond with the multicast suppression Hello message.</span></span> <span data-ttu-id="20c77-140">Le <xref:System.ServiceModel.Discovery.DiscoveryClient> déclenche l'événement `ProxyAvailable` lorsqu'il reçoit des messages de type Hello en réponse à des demandes `Find` ou `Resolve` en attente.</span><span class="sxs-lookup"><span data-stu-id="20c77-140">The <xref:System.ServiceModel.Discovery.DiscoveryClient> raises the `ProxyAvailable` event when it receives Hello messages in response to outstanding `Find` or `Resolve` requests.</span></span> <span data-ttu-id="20c77-141">L'événement `ProxyAvailable` contient le <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> sur le proxy de découverte.</span><span class="sxs-lookup"><span data-stu-id="20c77-141">The `ProxyAvailable` event contains the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> about the discovery proxy.</span></span> <span data-ttu-id="20c77-142">Il incombe au développeur d'utiliser ces informations pour basculer du mode ad hoc au mode managé.</span><span class="sxs-lookup"><span data-stu-id="20c77-142">It is up to the developer to use this information to switch from Ad hoc to Managed mode.</span></span>  
  
## <a name="discoveryendpoint"></a><span data-ttu-id="20c77-143">DiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="20c77-143">DiscoveryEndpoint</span></span>  
 <span data-ttu-id="20c77-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> représente un point de terminaison standard avec un contrat de découverte fixe.</span><span class="sxs-lookup"><span data-stu-id="20c77-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> represents a standard endpoint with a fixed discovery contract.</span></span> <span data-ttu-id="20c77-145">Il est utilisé par un service ou un client pour envoyer ou recevoir des messages de découverte.</span><span class="sxs-lookup"><span data-stu-id="20c77-145">It is used by a service or client to send or receive discovery messages.</span></span> <span data-ttu-id="20c77-146">Par défaut, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> est défini pour utiliser le mode <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Managed?displayProperty=nameWithType> et la version 11 du protocole WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="20c77-146">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Managed?displayProperty=nameWithType> mode and the WSDiscovery11 WS-Discovery version.</span></span>  
  
## <a name="discoverymessagesequencegenerator"></a><span data-ttu-id="20c77-147">DiscoveryMessageSequenceGenerator</span><span class="sxs-lookup"><span data-stu-id="20c77-147">DiscoveryMessageSequenceGenerator</span></span>  
 <span data-ttu-id="20c77-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> est utilisé pour générer un <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> lorsque le service envoie des messages de découverte ou d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> is used to generate a <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> when the service is sending out Discovery or Announcement messages.</span></span>  
  
## <a name="discoveryservice"></a><span data-ttu-id="20c77-149">DiscoveryService</span><span class="sxs-lookup"><span data-stu-id="20c77-149">DiscoveryService</span></span>  
 <span data-ttu-id="20c77-150">La classe abstraite <xref:System.ServiceModel.Discovery.DiscoveryService> fournit une infrastructure pour recevoir et traiter des messages `Probe` et `Resolve`.</span><span class="sxs-lookup"><span data-stu-id="20c77-150">The <xref:System.ServiceModel.Discovery.DiscoveryService> abstract class provides a framework for receiving and processing `Probe` and `Resolve` messages.</span></span> <span data-ttu-id="20c77-151">Lors de la réception d'un message `Probe`, <xref:System.ServiceModel.Discovery.DiscoveryService> crée une instance de <xref:System.ServiceModel.Discovery.FindRequestContext> basée sur le message entrant et appelle la méthode virtuelle <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A>.</span><span class="sxs-lookup"><span data-stu-id="20c77-151">When a `Probe` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> creates an instance of <xref:System.ServiceModel.Discovery.FindRequestContext> based on the incoming message and invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A> virtual method.</span></span> <span data-ttu-id="20c77-152">Lors de la réception d'un message `Resolve`, <xref:System.ServiceModel.Discovery.DiscoveryService> appelle la méthode virtuelle <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A>.</span><span class="sxs-lookup"><span data-stu-id="20c77-152">When a `Resolve` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A> virtual method.</span></span> <span data-ttu-id="20c77-153">Vous pouvez hériter de cette classe pour fournir une implémentation personnalisée du service de découverte.</span><span class="sxs-lookup"><span data-stu-id="20c77-153">You can inherit from this class to provide a custom Discovery Service implementation.</span></span>  
  
## <a name="discoveryproxy"></a><span data-ttu-id="20c77-154">DiscoveryProxy</span><span class="sxs-lookup"><span data-stu-id="20c77-154">DiscoveryProxy</span></span>  
 <span data-ttu-id="20c77-155">La classe abstraite <xref:System.ServiceModel.Discovery.DiscoveryProxy> fournit une infrastructure pour recevoir et traiter les messages de découverte et d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-155">The <xref:System.ServiceModel.Discovery.DiscoveryProxy> abstract class provides a framework for receiving and processing discovery and announcement messages.</span></span> <span data-ttu-id="20c77-156">Vous héritez de cette classe lorsque vous implémentez un proxy de découverte personnalisé.</span><span class="sxs-lookup"><span data-stu-id="20c77-156">You inherit from this class when you are implementing a custom discovery proxy.</span></span> <span data-ttu-id="20c77-157">Lorsqu'un message `Probe` est reçu en multidiffusion, la classe <xref:System.ServiceModel.Discovery.DiscoveryProxy> appelle la méthode virtuelle `BeginShouldRedirectFind` pour déterminer si un message de suppression de multidiffusion doit être envoyé.</span><span class="sxs-lookup"><span data-stu-id="20c77-157">When a `Probe` message is received over multicast, the <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `BeginShouldRedirectFind` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="20c77-158">Si le développeur décide de ne pas envoyer de message de suppression de multidiffusion ou si le message `Probe` a été reçu en monodiffusion, il crée une instance de la classe <xref:System.ServiceModel.Discovery.FindRequestContext> basée sur le message entrant et appelle la méthode virtuelle `OnBeginFind`.</span><span class="sxs-lookup"><span data-stu-id="20c77-158">If the developer decides not to send a multicast suppression message or if the `Probe` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.FindRequestContext> class based on the incoming message and invokes the `OnBeginFind` virtual method.</span></span> <span data-ttu-id="20c77-159">Lorsqu'un message `Resolve` est reçu en multidiffusion, la classe <xref:System.ServiceModel.Discovery.DiscoveryProxy> appelle la méthode virtuelle `ShouldRedirectResolve` pour déterminer si un message de suppression de multidiffusion doit être envoyé.</span><span class="sxs-lookup"><span data-stu-id="20c77-159">When a `Resolve` message is received over multicast, The <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `ShouldRedirectResolve` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="20c77-160">Si le développeur décide de ne pas envoyer de message de suppression de multidiffusion ou si le message `Resolve` a été reçu en monodiffusion, il crée une instance de la classe <xref:System.ServiceModel.Discovery.ResolveCriteria> basée sur le message entrant et appelle la méthode virtuelle `OnBeginResolve`.</span><span class="sxs-lookup"><span data-stu-id="20c77-160">If the developer decides not to send a multicast suppression message or if the `Resolve` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.ResolveCriteria> class based on the incoming message and invokes the `OnBeginResolve` virtual method.</span></span> <span data-ttu-id="20c77-161">Lors de la réception d'un message de type Hello ou Bye, <xref:System.ServiceModel.Discovery.DiscoveryProxy> appelle la méthode virtuelle appropriée (`OnBeginOnlineAnnouncement` ou `OnBeingOfflineAnnouncement`), qui déclenche des événements d'annonce.</span><span class="sxs-lookup"><span data-stu-id="20c77-161">When a Hello or Bye message is received, <xref:System.ServiceModel.Discovery.DiscoveryProxy> calls the appropriate virtual method (`OnBeginOnlineAnnouncement` or `OnBeingOfflineAnnouncement`), which raises announcement events.</span></span>  
  
## <a name="discoveryversion"></a><span data-ttu-id="20c77-162">DiscoveryVersion</span><span class="sxs-lookup"><span data-stu-id="20c77-162">DiscoveryVersion</span></span>  
 <span data-ttu-id="20c77-163">La classe <xref:System.ServiceModel.Discovery.DiscoveryVersion> représente la version du protocole de découverte à utiliser.</span><span class="sxs-lookup"><span data-stu-id="20c77-163">The <xref:System.ServiceModel.Discovery.DiscoveryVersion> class represents the discovery protocol version to use.</span></span>  
  
## <a name="endpointdiscoverybehavior"></a><span data-ttu-id="20c77-164">EndpointDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="20c77-164">EndpointDiscoveryBehavior</span></span>  
 <span data-ttu-id="20c77-165">La classe <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> est utilisée pour contrôler la détectabilité d'un point de terminaison, spécifier les extensions, les noms supplémentaires de type de contrat.</span><span class="sxs-lookup"><span data-stu-id="20c77-165">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> class is used to control the discoverability of an endpoint, specify the extensions, additional contract type names.</span></span> <span data-ttu-id="20c77-166">et les étendues associées à ce point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="20c77-166">and the scopes associated with that endpoint.</span></span> <span data-ttu-id="20c77-167">Ce comportement est ajouté à un point de terminaison d'application pour configurer son <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="20c77-167">This behavior is added to an application endpoint to configure its <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="20c77-168">Lorsque <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> est ajouté à l'hôte de service, tous les points de terminaison d'application hébergés par défaut par l'hôte de service deviennent détectables.</span><span class="sxs-lookup"><span data-stu-id="20c77-168">When <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> is added to the service host, all the application endpoints hosted by the service host by default become discoverable.</span></span> <span data-ttu-id="20c77-169">Le développeur peut désactiver la découverte pour un point de terminaison spécifique en définissant la propriété <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enabled%2A> sur `false`.</span><span class="sxs-lookup"><span data-stu-id="20c77-169">The developer can turn off discovery for a specific endpoint by setting the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enabled%2A> property to `false`.</span></span>  
  
## <a name="endpointdiscoverymetadata"></a><span data-ttu-id="20c77-170">EndpointDiscoveryMetadata</span><span class="sxs-lookup"><span data-stu-id="20c77-170">EndpointDiscoveryMetadata</span></span>  
 <span data-ttu-id="20c77-171">La classe <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> fournit une représentation d'un point de terminaison publié par le service, de manière indépendante de la version.</span><span class="sxs-lookup"><span data-stu-id="20c77-171">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> class provides a version-independent representation of an endpoint published by the service.</span></span> <span data-ttu-id="20c77-172">Elle contient des adresses du point de terminaison, des URI d'écoute, des noms de type de contrat, des étendues, une version de métadonnées et des extensions spécifiés par le développeur de service.</span><span class="sxs-lookup"><span data-stu-id="20c77-172">It contains endpoint addresses, listen URIs, contract type names, scopes, metadata version and extensions specified by the service developer.</span></span> <span data-ttu-id="20c77-173">Le <xref:System.ServiceModel.Discovery.FindCriteria> envoyé par le client lors d'une opération `Probe` est comparé au <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="20c77-173">The <xref:System.ServiceModel.Discovery.FindCriteria> sent by the client during a `Probe` operation is matched against the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="20c77-174">Si les critères correspondent, le <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> est retourné au client.</span><span class="sxs-lookup"><span data-stu-id="20c77-174">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span> <span data-ttu-id="20c77-175">L'adresse du point de terminaison dans <xref:System.ServiceModel.Discovery.ResolveCriteria> est comparée à l'adresse du point de terminaison de <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="20c77-175">The endpoint address in <xref:System.ServiceModel.Discovery.ResolveCriteria> is matched against the endpoint address of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="20c77-176">Si les critères correspondent, le <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> est retourné au client.</span><span class="sxs-lookup"><span data-stu-id="20c77-176">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span>  
  
## <a name="findcriteria"></a><span data-ttu-id="20c77-177">FindCriteria</span><span class="sxs-lookup"><span data-stu-id="20c77-177">FindCriteria</span></span>  
 <span data-ttu-id="20c77-178">La classe <xref:System.ServiceModel.Discovery.FindCriteria> est une classe indépendante de la version, qui permet de spécifier les critères utilisés lors de la recherche d'un service.</span><span class="sxs-lookup"><span data-stu-id="20c77-178">The <xref:System.ServiceModel.Discovery.FindCriteria> class is a version-independent class used to specify the criteria used when finding a service.</span></span> <span data-ttu-id="20c77-179">Elle prend entièrement en charge les critères définis par WS-Discovery pour correspondre aux services.</span><span class="sxs-lookup"><span data-stu-id="20c77-179">It fully supports the WS-Discovery-defined criteria for matching services.</span></span> <span data-ttu-id="20c77-180">Elle possède également des extensions qui permettent aux développeurs de spécifier des valeurs personnalisées qui peuvent être utilisées lors du processus de mise en correspondance.</span><span class="sxs-lookup"><span data-stu-id="20c77-180">It also has extensions that developers can use to specify custom values that can be used during the matching process.</span></span> <span data-ttu-id="20c77-181">Le développeur peut fournir les critères d'arrêt pour l'opération `Find` en spécifiant la propriété <xref:System.ServiceModel.Discovery.FindCriteria.MaxResults%2A>, qui indique le nombre total de services recherchés par le développeur ou spécifie la valeur <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>, qui correspond à la durée pendant laquelle le client attend des réponses.</span><span class="sxs-lookup"><span data-stu-id="20c77-181">The developer can provide the termination criteria for the `Find` operation by specifying the <xref:System.ServiceModel.Discovery.FindCriteria.MaxResults%2A>, which specifies the total number of services the developer is looking for or that specifies the <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>, which is the value that specifies how long the client waits for responses.</span></span>  
  
## <a name="findrequestcontext"></a><span data-ttu-id="20c77-182">FindRequestContext</span><span class="sxs-lookup"><span data-stu-id="20c77-182">FindRequestContext</span></span>  
 <span data-ttu-id="20c77-183">La classe <xref:System.ServiceModel.Discovery.FindRequestContext> est instanciée par le service de découverte en fonction du message `Probe` qu'il reçoit lorsqu'un client initialise une opération `Find`.</span><span class="sxs-lookup"><span data-stu-id="20c77-183">The <xref:System.ServiceModel.Discovery.FindRequestContext> class is instantiated by the discovery service based on the `Probe` message it receives when a client initiates a `Find` operation.</span></span> <span data-ttu-id="20c77-184">Il contient une instance de <xref:System.ServiceModel.Discovery.FindCriteria> qui a été spécifiée par le client.</span><span class="sxs-lookup"><span data-stu-id="20c77-184">It contains an instance of <xref:System.ServiceModel.Discovery.FindCriteria> that was specified by the client.</span></span>  
  
## <a name="findresponse"></a><span data-ttu-id="20c77-185">FindResponse</span><span class="sxs-lookup"><span data-stu-id="20c77-185">FindResponse</span></span>  
 <span data-ttu-id="20c77-186">La classe <xref:System.ServiceModel.Discovery.FindResponse> est retournée par l'appelant de la méthode <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> avec les réponses de l'opération `Find`.</span><span class="sxs-lookup"><span data-stu-id="20c77-186">The <xref:System.ServiceModel.Discovery.FindResponse> class is returned to the caller of <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> with the responses of the `Find` operation.</span></span> <span data-ttu-id="20c77-187">Elle est également présente dans <xref:System.ServiceModel.Discovery.FindCompletedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="20c77-187">It is also present in <xref:System.ServiceModel.Discovery.FindCompletedEventArgs>.</span></span> <span data-ttu-id="20c77-188">Elle contient une collection <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, qui est la collection des points de terminaison découverts et un dictionnaire d'objets <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> et <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span><span class="sxs-lookup"><span data-stu-id="20c77-188">It contains a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the collection of discovered endpoints and a dictionary of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> and <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="resolvecriteria"></a><span data-ttu-id="20c77-189">ResolveCriteria</span><span class="sxs-lookup"><span data-stu-id="20c77-189">ResolveCriteria</span></span>  
 <span data-ttu-id="20c77-190">La classe <xref:System.ServiceModel.Discovery.ResolveCriteria> est une classe indépendante de la version qui permet de spécifier les critères utilisés lors de la résolution d'un service déjà connu.</span><span class="sxs-lookup"><span data-stu-id="20c77-190">The <xref:System.ServiceModel.Discovery.ResolveCriteria> class is a version-independent class used to specify the criteria used when resolving an already known service.</span></span> <span data-ttu-id="20c77-191">Elle contient l'adresse du point de terminaison du service connu.</span><span class="sxs-lookup"><span data-stu-id="20c77-191">It contains the endpoint address of the known service.</span></span> <span data-ttu-id="20c77-192">Le développeur peut fournir les critères d'arrêt pour l'opération de résolution en spécifiant la propriété <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>, qui indique combien de temps le client attend des réponses.</span><span class="sxs-lookup"><span data-stu-id="20c77-192">The developer can provide the termination criteria for the resolve operation by specifying the <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>, which specifies how long the client waits for responses.</span></span>  
  
## <a name="resolveresponse"></a><span data-ttu-id="20c77-193">ResolveResponse</span><span class="sxs-lookup"><span data-stu-id="20c77-193">ResolveResponse</span></span>  
 <span data-ttu-id="20c77-194">La classe <xref:System.ServiceModel.Discovery.ResolveResponse> est retournée par l'appelant de la méthode <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A> avec la réponse de l'opération `Resolve`.</span><span class="sxs-lookup"><span data-stu-id="20c77-194">The <xref:System.ServiceModel.Discovery.ResolveResponse> is returned to the caller of the <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A> method with the response of the `Resolve` operation.</span></span> <span data-ttu-id="20c77-195">Elle est également présente dans <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="20c77-195">It is also present in <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs>.</span></span> <span data-ttu-id="20c77-196">Elle contient une instance de <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, qui correspond aux points de terminaison découverts et une instance de <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span><span class="sxs-lookup"><span data-stu-id="20c77-196">It contains an instance of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the discovered endpoints and an instance of <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="servicediscoverybehavior"></a><span data-ttu-id="20c77-197">ServiceDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="20c77-197">ServiceDiscoveryBehavior</span></span>  
 <span data-ttu-id="20c77-198">La classe <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> permet au développeur d'ajouter à un service la fonctionnalité de découverte.</span><span class="sxs-lookup"><span data-stu-id="20c77-198">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class allows the developer to add the discovery feature to a service.</span></span> <span data-ttu-id="20c77-199">Vous ajoutez ce comportement à l'objet <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="20c77-199">You add this behavior to the <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="20c77-200">La classe <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> effectue une itération sur les points de terminaison d'application ajoutés à l'hôte de service et crée une collection d'objets <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> à partir des points de terminaison détectables.</span><span class="sxs-lookup"><span data-stu-id="20c77-200">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class iterates over the application endpoints added to the service host and creates a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> from the discoverable endpoints.</span></span> <span data-ttu-id="20c77-201">Tous les points de terminaison sont détectables par défaut.</span><span class="sxs-lookup"><span data-stu-id="20c77-201">All endpoints are discoverable by default.</span></span> <span data-ttu-id="20c77-202">La détectabilité d'un point de terminaison particulier peut être contrôlée en ajoutant l'objet <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> à ce point de terminaison particulier.</span><span class="sxs-lookup"><span data-stu-id="20c77-202">The discoverability of a particular endpoint can be controlled by adding the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> to that particular endpoint.</span></span> <span data-ttu-id="20c77-203">Si des points de terminaison d'annonce sont ajoutés à l'objet <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>, l'annonce de tous les points de terminaison détectables est envoyée sur chacun des points de terminaison d'annonce lors de l'ouverture et de la fermeture de l'hôte de service.</span><span class="sxs-lookup"><span data-stu-id="20c77-203">If announcement endpoints are added to <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> then the announcement of all discoverable endpoints is sent over each of the announcement endpoints when the service host is opened or closed.</span></span>  
  
## <a name="udpannouncementendpoint"></a><span data-ttu-id="20c77-204">UdpAnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="20c77-204">UdpAnnouncementEndpoint</span></span>  
 <span data-ttu-id="20c77-205">La classe <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> est un point de terminaison d'annonce standard, préconfiguré pour l'annonce sur une liaison de multidiffusion UDP.</span><span class="sxs-lookup"><span data-stu-id="20c77-205">The <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> class is a standard announcement endpoint that is pre-configured for announcement over a UDP multicast binding.</span></span> <span data-ttu-id="20c77-206">Par défaut, <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> est définie pour utiliser la version d'avril 2005 du protocole WS_Discovery.</span><span class="sxs-lookup"><span data-stu-id="20c77-206">By default, <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> is set to use the WSApril2005 WS_Discovery version.</span></span>  
  
## <a name="udpdiscoveryendpoint"></a><span data-ttu-id="20c77-207">UdpDiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="20c77-207">UdpDiscoveryEndpoint</span></span>  
 <span data-ttu-id="20c77-208">La classe <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> est un point de terminaison de découverte standard, préconfiguré pour la découverte sur une liaison de multidiffusion UDP.</span><span class="sxs-lookup"><span data-stu-id="20c77-208">The <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> class is a standard discovery endpoint that is pre-configured for discovery over a UDP multicast binding.</span></span> <span data-ttu-id="20c77-209">Par défaut, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> est définie pour utiliser la version 11 du protocole WS-Discovery et le mode <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Adhoc?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="20c77-209">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use the WSDiscovery11 WS-Discovery version and <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Adhoc?displayProperty=nameWithType> mode.</span></span>
