---
title: Exportation de métadonnées personnalisées pour une extension WCF
ms.date: 03/30/2017
ms.assetid: 53c93882-f8ba-4192-965b-787b5e3f09c0
ms.openlocfilehash: 5134b57c59268b139239021bc2b4f6f4538ad27d
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59334508"
---
# <a name="exporting-custom-metadata-for-a-wcf-extension"></a><span data-ttu-id="5438c-102">Exportation de métadonnées personnalisées pour une extension WCF</span><span class="sxs-lookup"><span data-stu-id="5438c-102">Exporting Custom Metadata for a WCF Extension</span></span>
<span data-ttu-id="5438c-103">Dans Windows Communication Foundation (WCF), exportation de métadonnées est le processus de décrire des points de terminaison de service et les projeter dans une représentation parallèle standardisée qui les clients peuvent utiliser pour comprendre comment utiliser le service.</span><span class="sxs-lookup"><span data-stu-id="5438c-103">In Windows Communication Foundation (WCF), metadata export is the process of describing service endpoints and projecting them into a parallel, standardized representation that clients can use to understand how to use the service.</span></span> <span data-ttu-id="5438c-104">Les métadonnées personnalisées sont composées d'éléments XML que les exportateurs de métadonnées fournis par le système ne peuvent pas exporter.</span><span class="sxs-lookup"><span data-stu-id="5438c-104">Custom metadata consists of XML elements that the system-provided metadata exporters cannot export.</span></span> <span data-ttu-id="5438c-105">En général, cela inclut les éléments WSDL personnalisés des comportements définis par l'utilisateur ainsi que les éléments de liaison et les assertions de stratégie relatives aux fonctions et spécifications des liaisons et contrats.</span><span class="sxs-lookup"><span data-stu-id="5438c-105">Typically, this includes custom WSDL elements for user-defined behaviors and binding elements and policy assertions about the capabilities and requirements of bindings and contracts.</span></span>  
  
 <span data-ttu-id="5438c-106">Cette section décrit l'exportation des éléments WSDL personnalisés ou des assertions de stratégie, mais ne traite pas du processus d'exportation lui-même.</span><span class="sxs-lookup"><span data-stu-id="5438c-106">This section describes exporting custom WSDL or policy assertions, and does not focus on the exporting process itself.</span></span> <span data-ttu-id="5438c-107">Pour plus d’informations sur la façon d’utiliser les types qui exportent et importent des métadonnées, que celles-ci soient personnalisées ou générées par le système, consultez [exportation et importation de métadonnées](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="5438c-107">For more information about how to use the types that export and import metadata regardless of whether the metadata is custom or system-constructed, see [Exporting and Importing Metadata](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="5438c-108">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="5438c-108">Overview</span></span>  
 <span data-ttu-id="5438c-109">Lorsque les métadonnées sont publiées à l’aide de la <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, le <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> est examiné et XSD et WSDL, y compris les assertions de stratégie--sont générés pour tous les contrats et les liaisons WCF peut prendre en charge à l’aide de liaisons et des attributs fournis par le système.</span><span class="sxs-lookup"><span data-stu-id="5438c-109">When metadata is published using the <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> is examined and XSD and WSDL -- including policy assertions -- are generated for all contracts and bindings that WCF can support using system-provided attributes and bindings.</span></span> <span data-ttu-id="5438c-110">Toutefois, les éléments de liaison ou les attributs de comportement personnalisés requièrent une prise en charge pour pouvoir être exportés correctement.</span><span class="sxs-lookup"><span data-stu-id="5438c-110">However, custom behavior attributes or binding elements require support before they can be exported properly.</span></span>  
  
 <span data-ttu-id="5438c-111">Cette section décrit :</span><span class="sxs-lookup"><span data-stu-id="5438c-111">This section describes:</span></span>  
  
1. <span data-ttu-id="5438c-112">Comment implémenter et utiliser l'interface <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType>, laquelle vous expose les données de génération WSDL avant de publier le WSDL.</span><span class="sxs-lookup"><span data-stu-id="5438c-112">How to implement and use the <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType> interface, which exposes the WSDL generation data to you prior to publishing the WSDL.</span></span>  
  
2. <span data-ttu-id="5438c-113">Comment implémenter et utiliser l'interface <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType>, laquelle vous expose les données de stratégie avant d'exporter les assertions de stratégie dans les données WSDL.</span><span class="sxs-lookup"><span data-stu-id="5438c-113">How to implement and use the <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interface, which exposes the policy data to you prior to exporting the policy assertions in WSDL data.</span></span>  
  
 <span data-ttu-id="5438c-114">Pour plus d’informations sur l’importation WSDL personnalisée et les assertions de stratégie, consultez [l’importation de métadonnées personnalisées pour une Extension WCF](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span><span class="sxs-lookup"><span data-stu-id="5438c-114">For more information about importing custom WSDL and policy assertions, see [Importing Custom Metadata for a WCF Extension](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span></span>  
  
## <a name="exporting-custom-wsdl-elements"></a><span data-ttu-id="5438c-115">Exportation d'éléments WSDL personnalisés</span><span class="sxs-lookup"><span data-stu-id="5438c-115">Exporting Custom WSDL Elements</span></span>  
 <span data-ttu-id="5438c-116">Implémentez <xref:System.ServiceModel.Description.IWsdlExportExtension> sur un comportement d'opération, comportement de contrat, comportement de point de terminaison ou élément de liaison (<xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior> ou <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> respectivement) et insérez les comportements ou éléments de liaison dans la description du service que vous tentez d'exporter.</span><span class="sxs-lookup"><span data-stu-id="5438c-116">Implement the <xref:System.ServiceModel.Description.IWsdlExportExtension> on an operation behavior, contract behavior, endpoint behavior or binding element (<xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior>, or <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> respectively) and insert the behaviors or binding elements into the description of the service that you are trying to export.</span></span> <span data-ttu-id="5438c-117">(Pour plus d’informations sur l’insertion de comportements, consultez [configuration et extension de l’exécution des comportements](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span><span class="sxs-lookup"><span data-stu-id="5438c-117">(For more information about inserting behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span></span> <span data-ttu-id="5438c-118"><xref:System.ServiceModel.Description.IWsdlExportExtension> est appelé pour chaque point de terminaison et chaque point de terminaison exporte en premier le contrat si cela n'a pas été déjà fait.</span><span class="sxs-lookup"><span data-stu-id="5438c-118">The <xref:System.ServiceModel.Description.IWsdlExportExtension> is called for each endpoint and each endpoint exports the contract first if it has not already been exported.</span></span> <span data-ttu-id="5438c-119">Selon vos besoins, vous pouvez participer à l'un ou à l'autre processus d'exportation :</span><span class="sxs-lookup"><span data-stu-id="5438c-119">You can participate in either export process, depending upon your needs:</span></span>  
  
-   <span data-ttu-id="5438c-120"><xref:System.ServiceModel.Description.WsdlContractConversionContext> permet de modifier les métadonnées exportées dans la méthode <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A>.</span><span class="sxs-lookup"><span data-stu-id="5438c-120">Use the <xref:System.ServiceModel.Description.WsdlContractConversionContext> to modify the exported metadata in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method.</span></span>  
  
-   <span data-ttu-id="5438c-121"><xref:System.ServiceModel.Description.WsdlEndpointConversionContext> permet de modifier les métadonnées exportées pour le point de terminaison dans la méthode <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A>.</span><span class="sxs-lookup"><span data-stu-id="5438c-121">Use the <xref:System.ServiceModel.Description.WsdlEndpointConversionContext> to modify the exported metadata for the endpoint in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method.</span></span>  
  
 <span data-ttu-id="5438c-122">La méthode <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> est appelée sur toutes les implémentations <xref:System.ServiceModel.Description.IWsdlExportExtension> dans l'instance <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> exportée.</span><span class="sxs-lookup"><span data-stu-id="5438c-122">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations within the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> instance that is being exported.</span></span>  <span data-ttu-id="5438c-123">La méthode <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> est appelée sur toutes les implémentations <xref:System.ServiceModel.Description.IWsdlExportExtension> avec l'instance <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> exportée.</span><span class="sxs-lookup"><span data-stu-id="5438c-123">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations with the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> instance that is being exported.</span></span>  
  
 <span data-ttu-id="5438c-124">Pour plus d'informations, voir [Procédure : Exportation personnalisée WSDL](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) et l’exemple [personnalisé WSDL Publication](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span><span class="sxs-lookup"><span data-stu-id="5438c-124">For more information, see [How to: Export Custom WSDL](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) and the sample [Custom WSDL Publication](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span></span>  
  
## <a name="exporting-custom-policy-assertions"></a><span data-ttu-id="5438c-125">Exportation d'assertions de stratégie personnalisées</span><span class="sxs-lookup"><span data-stu-id="5438c-125">Exporting Custom Policy Assertions</span></span>  
 <span data-ttu-id="5438c-126">Implémentez <xref:System.ServiceModel.Description.IPolicyExportExtension> sur un <xref:System.ServiceModel.Channels.BindingElement> et ajoutez l'élément de liaison à la liaison pour écrire des assertions de stratégie personnalisées concernant la prise en charge de la liaison et les fonctions de contrat dans le WSDL.</span><span class="sxs-lookup"><span data-stu-id="5438c-126">Implement the <xref:System.ServiceModel.Description.IPolicyExportExtension> on a <xref:System.ServiceModel.Channels.BindingElement> and add the binding element to the binding to write custom policy assertions about binding support and contract capabilities into the WSDL.</span></span> <span data-ttu-id="5438c-127"><xref:System.ServiceModel.Description.IPolicyExportExtension> est appelé une fois lors de l’exportation de l’élément de liaison implémenté dans une liaison, et passe <xref:System.ServiceModel.Description.PolicyConversionContext> à la méthode <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A>.</span><span class="sxs-lookup"><span data-stu-id="5438c-127">The <xref:System.ServiceModel.Description.IPolicyExportExtension> is called once when exporting the implemented binding element in a binding and passes the <xref:System.ServiceModel.Description.PolicyConversionContext> to the <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A> method.</span></span> <span data-ttu-id="5438c-128">Vous pouvez utiliser les méthodes sur l'instance <xref:System.ServiceModel.Description.PolicyConversionContext> à ajouter aux assertions de stratégie jointe à la liaison WSDL au niveau des objets de message, d'opération ou de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="5438c-128">You can use the methods on the <xref:System.ServiceModel.Description.PolicyConversionContext> instance to add to the policy assertions attached to the WSDL binding at the message, operation or endpoint subjects.</span></span>  
  
 <span data-ttu-id="5438c-129">Pour plus d'informations, voir [Procédure : Exporter des Assertions de stratégie personnalisées](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span><span class="sxs-lookup"><span data-stu-id="5438c-129">For more information, see [How to: Export Custom Policy Assertions](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5438c-130">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5438c-130">See also</span></span>

- [<span data-ttu-id="5438c-131">Guide pratique pour Exporter le fichier WSDL personnalisé</span><span class="sxs-lookup"><span data-stu-id="5438c-131">How to: Export Custom WSDL</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md)
- [<span data-ttu-id="5438c-132">Guide pratique pour Exporter des Assertions de stratégie personnalisées</span><span class="sxs-lookup"><span data-stu-id="5438c-132">How to: Export Custom Policy Assertions</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md)
- [<span data-ttu-id="5438c-133">Importation de métadonnées personnalisées pour une extension WCF</span><span class="sxs-lookup"><span data-stu-id="5438c-133">Importing Custom Metadata for a WCF Extension</span></span>](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md)
