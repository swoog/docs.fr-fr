---
title: Vue d'ensemble du traçage analytique
ms.date: 03/30/2017
helpviewer_keywords:
- analytic tracing [WCF], overview
ms.assetid: ae55e9cc-0809-442f-921f-d644290ebf15
ms.openlocfilehash: 9918f07d9c26c1779a1eedfbc423c31e61659334
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/23/2019
ms.locfileid: "62048741"
---
# <a name="analytic-tracing-overview"></a><span data-ttu-id="7e6f9-102">Vue d'ensemble du traçage analytique</span><span class="sxs-lookup"><span data-stu-id="7e6f9-102">Analytic Tracing Overview</span></span>
<span data-ttu-id="7e6f9-103">Le traçage analytique dans [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] est une fonctionnalité de suivi très performante et à faible niveau de commentaires, définie au-dessus du suivi d'événements Windows (ETW).</span><span class="sxs-lookup"><span data-stu-id="7e6f9-103">Analytic tracing in [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] is a high performance and low verbosity tracing feature set on top of Event Tracing for Windows (ETW).</span></span> <span data-ttu-id="7e6f9-104">ETW s'exécute au niveau du noyau pour diminuer considérablement les surcharges des opérations de suivi.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-104">ETW runs at the kernel-level to greatly reduce the overhead of tracing operations.</span></span> <span data-ttu-id="7e6f9-105">Il met efficacement en mémoire tampon les événements en mode utilisateur et noyau, et permet l'activation dynamique de la journalisation, sans que le service ait besoin de redémarrer.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-105">It efficiently buffers user- and kernel-mode events, and allows dynamic enabling of logging without requiring service restarts.</span></span> <span data-ttu-id="7e6f9-106">Les données de suivi sont disponibles dans les journaux des événements, une fois qu'elles ont été émises et reçues.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-106">The tracing data is available in the event logs after it has been emitted and received.</span></span>  
  
 <span data-ttu-id="7e6f9-107">Pour plus d’informations sur ETW, consultez [Améliorez le débogage et l’optimisation des performances avec ETW](https://go.microsoft.com/fwlink/?LinkId=164781).</span><span class="sxs-lookup"><span data-stu-id="7e6f9-107">For more information about ETW, see [Improve Debugging and Performance Tuning with ETW](https://go.microsoft.com/fwlink/?LinkId=164781).</span></span>  
  
 <span data-ttu-id="7e6f9-108">En plus d'utiliser les journaux d'événements du système Windows, de la sécurité et de l'application pour analyser l'application, [!INCLUDE[wv](../../../../../includes/wv-md.md)] et [!INCLUDE[lserver](../../../../../includes/lserver-md.md)] ont introduit des journaux supplémentaires sous le nœud de niveau supérieur des journaux des applications et des services.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-108">In addition to using the Windows System, Security, and Application event logs to analyze application, [!INCLUDE[wv](../../../../../includes/wv-md.md)] and [!INCLUDE[lserver](../../../../../includes/lserver-md.md)] introduced additional logs under the Applications and Services Logs top-level node.</span></span> <span data-ttu-id="7e6f9-109">L'objectif de ces nouveaux journaux est de stocker les événements d'une application particulière ou d'un composant spécifique, au lieu d'événements globaux qui ont un impact sur l'ensemble du système (tels le type d'événements enregistrés par le journal des événements de sécurité).</span><span class="sxs-lookup"><span data-stu-id="7e6f9-109">The purpose of these new logs is to store events for a particular application or specific component instead of global events that have a system-wide impact (such as the type of events that the Security event log might record).</span></span> [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] <span data-ttu-id="7e6f9-110">unifie et met en corrélation la journalisation des événements de Trace WCF, les journaux de messages WCF, et [!INCLUDE[wf1](../../../../../includes/wf1-md.md)] des enregistrements de suivi pour les journaux des Applications et Services.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-110">unifies and correlates the logging of WCF Trace Events, WCF Message Logs, and [!INCLUDE[wf1](../../../../../includes/wf1-md.md)] Tracking records to the Applications and Services Logs.</span></span>  
  
## <a name="concepts-and-capabilities"></a><span data-ttu-id="7e6f9-111">Concepts et fonctions</span><span class="sxs-lookup"><span data-stu-id="7e6f9-111">Concepts and Capabilities</span></span>  
 <span data-ttu-id="7e6f9-112">Les concepts et fonctionnalités suivants s’appliquent au traçage analytique de WCF.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-112">The following concepts and capabilities apply to WCF Analytic Tracing.</span></span>  
  
### <a name="enabling-wcf-diagnostics-settings"></a><span data-ttu-id="7e6f9-113">Activation des paramètres de diagnostic WCF</span><span class="sxs-lookup"><span data-stu-id="7e6f9-113">Enabling WCF Diagnostics Settings</span></span>  
 <span data-ttu-id="7e6f9-114">Les diagnostics WCF sont activés dans le \<system.serviceModel >\<diagnostics > section de configuration.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-114">WCF diagnostics are enabled within the \<system.serviceModel>\<diagnostics> configuration section.</span></span>  
  
```xml  
<system.serviceModel>  
  <diagnostics>  
```  
  
 <span data-ttu-id="7e6f9-115">Les paramètres de diagnostic WCF d'une application virtuelle IIS hébergée sur le Web sont activés dans son fichier Web.config.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-115">WCF diagnostic settings for a Web-hosted IIS virtual application are enabled in its’ Web.config file.</span></span> <span data-ttu-id="7e6f9-116">Une autre option est de créer un Web.config dans un sous-répertoire au sein de l'application.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-116">Another option is to create a Web.config in a sub-directory within the application.</span></span>  <span data-ttu-id="7e6f9-117">Ce choix applique les paramètres à tous les services dans un sous-répertoire.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-117">This choice applies the settings to all of the services within a sub-directory.</span></span>  <span data-ttu-id="7e6f9-118">Pour s'assurer que les paramètres de diagnostic sont initialisés de manière cohérente pour tous les services de l'application, les paramètres doivent être configurés dans le fichier Web.config qui se trouve dans le répertoire de l'application et non dans l'un des sous-répertoires individuels de l'application.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-118">To ensure that the diagnostics settings are initialized consistently for all services within the application, the settings should be within the Web.config in the application directory and not in one of the individual sub-directories within the application.</span></span>  
  
### <a name="channels"></a><span data-ttu-id="7e6f9-119">Canaux</span><span class="sxs-lookup"><span data-stu-id="7e6f9-119">Channels</span></span>  
 <span data-ttu-id="7e6f9-120">ETW permet aux composants logiciels de diriger les événements de suivi vers une audience particulière via les canaux.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-120">ETW allows software components to direct tracing events to a particular audience by use of channels.</span></span> <span data-ttu-id="7e6f9-121">Par exemple, vous pouvez envoyer des événements aux administrateurs système sur un canal, et les événements qui intéressent les développeurs d'applications sur un autre canal.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-121">For example, you can send events for system administrators to one channel, and events that application developers care about to another channel.</span></span> <span data-ttu-id="7e6f9-122">Les canaux sont nommés et enregistrés par Windows, afin que les utilisateurs puissent consulter les événements d'un canal à l'aide de l'observateur d'événements.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-122">Channels are named and registered with Windows so that consumers can view a channel’s events using the Event Viewer.</span></span>  
  
 <span data-ttu-id="7e6f9-123">La fonctionnalité de traçage analytique WCF dans [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] écrit dans le canal Microsoft-Windows-serveur d’applications-Applications.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-123">The analytic tracing feature for WCF in [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] writes to the Microsoft-Windows-Application-Server-Applications channel.</span></span> <span data-ttu-id="7e6f9-124">Ce canal est spécifiquement conçu pour les utilisateurs qui souhaitent surveiller l’intégrité des services WCF en production.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-124">This channel is specifically designed for users who want to monitor the health of WCF services in production.</span></span> <span data-ttu-id="7e6f9-125">Il définit un jeu d'événements restreint qui peut être utilisé dans de nombreux scénarios de contrôle d'intégrité et de dépannage.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-125">It defines a small, set of events that can be used in many health monitoring and troubleshooting scenarios.</span></span>  
  
 <span data-ttu-id="7e6f9-126">Pour activer le suivi d'événements pour le manifeste Windows afin que les messages soient décodés correctement dans le journal des événements, utilisez l'outil ServiceModelReg sur la ligne de commande de la façon suivante :</span><span class="sxs-lookup"><span data-stu-id="7e6f9-126">To enable the Event Tracing for Windows manifest so that messages are decoded properly in the event log, use the ServiceModelReg tool on the command line as follows:</span></span>  
  
 `ServiceModelReg.exe -i -c:etw`  
  
### <a name="dynamic-configuration"></a><span data-ttu-id="7e6f9-127">Configuration Dynamique</span><span class="sxs-lookup"><span data-stu-id="7e6f9-127">Dynamic Configuration</span></span>  
 <span data-ttu-id="7e6f9-128">L'infrastructure ETW permet d'activer le suivi et de le configurer de manière dynamique, à l'aide d'outils Windows standard.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-128">The ETW infrastructure allows tracing to be enabled and configured dynamically using standard Windows tools.</span></span> <span data-ttu-id="7e6f9-129">Pour plus d’informations, consultez [dynamiquement l’activation de traçage analytique](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="7e6f9-129">For more information, see [Dynamically Enabling Analytic Tracing](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span></span>  
  
### <a name="message-flow-tracing"></a><span data-ttu-id="7e6f9-130">Suivi de flux de messages</span><span class="sxs-lookup"><span data-stu-id="7e6f9-130">Message Flow Tracing</span></span>  
 <span data-ttu-id="7e6f9-131">Pour plus d’informations sur la façon d’activer le suivi de flux de messages, consultez [Configuring Message Flow Tracing](../../../../../docs/framework/wcf/diagnostics/etw/configuring-message-flow-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="7e6f9-131">For more information about how to enable message flow tracing, see [Configuring Message Flow Tracing](../../../../../docs/framework/wcf/diagnostics/etw/configuring-message-flow-tracing.md).</span></span>  
  
### <a name="keywords"></a><span data-ttu-id="7e6f9-132">Mots clés</span><span class="sxs-lookup"><span data-stu-id="7e6f9-132">Keywords</span></span>  
 <span data-ttu-id="7e6f9-133">Les mots clés sont utilisés pour filtrer les messages de trace et définir quel composant du [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] a émis l'événement.</span><span class="sxs-lookup"><span data-stu-id="7e6f9-133">Keywords are used to filter trace messages and define which component of the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] emitted the event.</span></span> <span data-ttu-id="7e6f9-134">Pour plus d’informations, consultez [dynamiquement l’activation de traçage analytique](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="7e6f9-134">For more information, see [Dynamically Enabling Analytic Tracing](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span></span>
